(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports,__webpack_require__){var videopress=__webpack_require__(1);var Qs=__webpack_require__(2);var container=document.getElementById("video");var globalVideoPressArgs=null;var matches=location.href.match(/\/(v|embed)\/([a-zA-Z\d]+)\/?\??(.*)/);if(matches){var route=matches[1];var guid=matches[2];var queryParams=matches[3];var args={autoResize:false,width:container.offsetWidth,height:container.offsetHeight};if(window.hasOwnProperty&&window.hasOwnProperty("globalVideoPressArgs")){var globalVideoPressArgs=window.globalVideoPressArgs;if(globalVideoPressArgs.requestProvider&&{}.toString.call(globalVideoPressArgs.requestProvider)==="[object Function]"){args.requestProvider=globalVideoPressArgs.requestProvider}}if("v"===route){args.autoPlay=true;args.permalink=false}if(queryParams){var queryString=Qs.parse(queryParams);if(parseInt(queryString.at))args.at=parseInt(queryString.at);if("1"===queryString.loop||"true"===queryString.loop||""===queryString.loop)args.loop=true;else if("0"===queryString.loop||"false"===queryString.loop)args.loop=false;if("1"===queryString.permalink||"true"===queryString.permalink||""===queryString.permalink)args.permalink=true;else if("0"===queryString.permalink||"false"===queryString.permalink)args.permalink=false;if("1"===queryString.hd||"true"===queryString.hd||""===queryString.hd)args.hd=true;else if("0"===queryString.hd||"false"===queryString.hd)args.hd=false;if("autoPlay"in queryString&&!("autoplay"in queryString))queryString.autoplay=queryString.autoPlay;if("1"===queryString.autoplay||"true"===queryString.autoplay||""===queryString.autoplay)args.autoPlay=true;else if("0"===queryString.autoplay||"false"===queryString.autoplay)args.autoPlay=false;if("1"===queryString.muted||"true"===queryString.muted||""===queryString.muted)args.muted=true;else if("0"===queryString.muted||"false"===queryString.muted)args.muted=false;if("1"===queryString.persistVolume||"true"===queryString.persistVolume||""===queryString.persistVolume)args.persistVolume=true;else if("0"===queryString.persistVolume||"false"===queryString.persistVolume)args.persistVolume=false;if("1"===queryString.controls||"true"===queryString.controls||""===queryString.controls)args.controls=true;else if("0"===queryString.controls||"false"===queryString.controls)args.controls=false;if(queryString.preloadContent&&["auto","metadata","none"].indexOf(queryString.preloadContent)!==-1)args.preloadContent=queryString.preloadContent;if(queryString.posterUrl)args.posterUrl=queryString.posterUrl;if(queryString.defaultLangCode)args.defaultLangCode=queryString.defaultLangCode}var vp=videopress(guid,container,args);window.addEventListener("resize",function(){vp.state.width(container.offsetWidth);vp.state.height(container.offsetHeight)})}else{container.innerHTML="Invalid Video"}},function(module,exports,__webpack_require__){(function webpackUniversalModuleDefinition(root,factory){if(true)module.exports=factory();else if(typeof define==="function"&&define.amd)define([],factory);else if(typeof exports==="object")exports["videopress"]=factory();else root["videopress"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=videopress;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _state=__webpack_require__(1);var _state2=_interopRequireDefault(_state);var _vdRender=__webpack_require__(21);var _vdRender2=_interopRequireDefault(_vdRender);var _rafDebounce=__webpack_require__(25);var _rafDebounce2=_interopRequireDefault(_rafDebounce);var _hasH264=__webpack_require__(28);var _hasH2642=_interopRequireDefault(_hasH264);var _view=__webpack_require__(29);var _view2=_interopRequireDefault(_view);var _fullScreen=__webpack_require__(82);var _fullScreen2=_interopRequireDefault(_fullScreen);var _storeVolume=__webpack_require__(87);var _storeVolume2=_interopRequireDefault(_storeVolume);var _autoResize=__webpack_require__(88);var _autoResize2=_interopRequireDefault(_autoResize);var _keyboard=__webpack_require__(89);var _keyboard2=_interopRequireDefault(_keyboard);var _autoPlay=__webpack_require__(90);var _autoPlay2=_interopRequireDefault(_autoPlay);var _preloadGrids=__webpack_require__(91);var _preloadGrids2=_interopRequireDefault(_preloadGrids);var _report=__webpack_require__(92);var _report2=_interopRequireDefault(_report);var _isMobileBrowser=__webpack_require__(69);var _isMobileBrowser2=_interopRequireDefault(_isMobileBrowser);var _es6Promise=__webpack_require__(93);(0,_es6Promise.polyfill)();var mobile=(0,_isMobileBrowser2["default"])(navigator.userAgent);var iOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);var safari=/Safari/i.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);var chrome=/Chrome/.test(navigator.userAgent);function videopress(id,el){var _ref=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];var _ref$width=_ref.width;var width=_ref$width===undefined?854:_ref$width;var _ref$height=_ref.height;var height=_ref$height===undefined?480:_ref$height;var _ref$embedded=_ref.embedded;var embedded=_ref$embedded===undefined?true:_ref$embedded;var _ref$at=_ref.at;var at=_ref$at===undefined?0:_ref$at;var _ref$hd=_ref.hd;var hd=_ref$hd===undefined?true:_ref$hd;var _ref$loop=_ref.loop;var loop=_ref$loop===undefined?false:_ref$loop;var _ref$keys=_ref.keys;var keys=_ref$keys===undefined?true:_ref$keys;var _ref$fsSupport=_ref.fsSupport;var fsSupport=_ref$fsSupport===undefined?true:_ref$fsSupport;var _ref$permalink=_ref.permalink;var permalink=_ref$permalink===undefined?true:_ref$permalink;var _ref$autoResize=_ref.autoResize;var autoResize=_ref$autoResize===undefined?true:_ref$autoResize;var _ref$autoPlay=_ref.autoPlay;var autoPlay=_ref$autoPlay===undefined?false:_ref$autoPlay;var _ref$muted=_ref.muted;var muted=_ref$muted===undefined?false:_ref$muted;var _ref$volume=_ref.volume;var volume=_ref$volume===undefined?50:_ref$volume;var _ref$persistVolume=_ref.persistVolume;var persistVolume=_ref$persistVolume===undefined?true:_ref$persistVolume;var _ref$preloadGrids=_ref.preloadGrids;var preloadGrids=_ref$preloadGrids===undefined?true:_ref$preloadGrids;var _ref$reporting=_ref.reporting;var reporting=_ref$reporting===undefined?true:_ref$reporting;var _ref$defaultLangCode=_ref.defaultLangCode;var defaultLangCode=_ref$defaultLangCode===undefined?null:_ref$defaultLangCode;var _ref$requestProvider=_ref.requestProvider;var requestProvider=_ref$requestProvider===undefined?null:_ref$requestProvider;var _ref$posterUrl=_ref.posterUrl;var posterUrl=_ref$posterUrl===undefined?null:_ref$posterUrl;var _ref$preloadContent=_ref.preloadContent;var preloadContent=_ref$preloadContent===undefined?null:_ref$preloadContent;var _ref$controls=_ref.controls;var controls=_ref$controls===undefined?true:_ref$controls;var _ref$playbackRate=_ref.playbackRate;var playbackRate=_ref$playbackRate===undefined?1:_ref$playbackRate;var state=new _state2["default"](requestProvider);state.id(id);state.videoId(makeId());state.width(width);state.height(height);state.thumbHeight(144);state.thumbGridMax(100);state.embedded(embedded);state.permalink(permalink);state.loop(loop);state.h264(_hasH2642["default"]);state.hd(hd);state.start(at);state.setSub(defaultLangCode);state.autoPlay(!!autoPlay);state.volume(muted?0:volume);state.muted(muted);state.posterUrl(posterUrl);state.preloadContent(preloadContent);state.controls(controls);state.playbackRate(playbackRate);state.playbackRateControlsShowing(false);if(autoPlay&&!muted&&(safari||iOS)){console.error("Video was set to autoplay but Safari, and iOS actively blocks this from working when a video is not muted...")}if(autoPlay&&chrome){console.error("Video was set to autoplay but Chrome will sometimes prevent videos from being autoplayed when on domains that the user does not frequent...")}var paint=(0,_vdRender2["default"])(el);var _debounce=(0,_rafDebounce2["default"])(function(){state.unobserve();paint((0,_view2["default"])(state))});var onChange=_debounce.fn;var abortRender=_debounce.abortRender;state.on("change",onChange);paint((0,_view2["default"])(state));if(persistVolume)(0,_storeVolume2["default"])(state);var abortAP=undefined;if(autoPlay)abortAP=(0,_autoPlay2["default"])(el,state,{onScroll:"scroll"==autoPlay});var abortFS=undefined;if(fsSupport)abortFS=(0,_fullScreen2["default"])(el,state);var abortResize=undefined;if(autoResize)abortResize=(0,_autoResize2["default"])(el,state);var abortKeys=undefined;if(keys)abortKeys=(0,_keyboard2["default"])(el,state);var abortPreload=undefined;if(preloadGrids)abortPreload=(0,_preloadGrids2["default"])(state);var abortReport=undefined;if(reporting)abortReport=(0,_report2["default"])(state);return{state:state,destroy:function destroy(){if(abortRender)abortRender();if(abortFS)abortFS();if(abortAP)abortAP();if(abortKeys)abortKeys();if(abortResize)abortResize();if(abortReport)abortReport();if(abortPreload)abortPreload();state.destroy()}}}function makeId(){var len=arguments.length<=0||arguments[0]===undefined?12:arguments[0];var text="";var possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<len;i++){text+=possible.charAt(Math.floor(Math.random()*possible.length))}return text}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createDecoratedClass=function(){function defineProperties(target,descriptors,initializers){for(var i=0;i<descriptors.length;i++){var descriptor=descriptors[i];var decorators=descriptor.decorators;var key=descriptor.key;delete descriptor.key;delete descriptor.decorators;descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor||descriptor.initializer)descriptor.writable=true;if(decorators){for(var f=0;f<decorators.length;f++){var decorator=decorators[f];if(typeof decorator==="function"){descriptor=decorator(target,key,descriptor)||descriptor}else{throw new TypeError("The decorator for method "+descriptor.key+" is of the invalid type "+typeof decorator)}}if(descriptor.initializer!==undefined){initializers[key]=descriptor;continue}}Object.defineProperty(target,key,descriptor)}}return function(Constructor,protoProps,staticProps,protoInitializers,staticInitializers){if(protoProps)defineProperties(Constructor.prototype,protoProps,protoInitializers);if(staticProps)defineProperties(Constructor,staticProps,staticInitializers);return Constructor}}();var _get=function get(_x6,_x7,_x8){var _again=true;_function:while(_again){var object=_x6,property=_x7,receiver=_x8;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x6=parent;_x7=property;_x8=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _defineDecoratedPropertyDescriptor(target,key,descriptors){var _descriptor=descriptors[key];if(!_descriptor)return;var descriptor={};for(var _key in _descriptor)descriptor[_key]=_descriptor[_key];descriptor.value=descriptor.initializer?descriptor.initializer.call(target):undefined;Object.defineProperty(target,key,descriptor)}var _dataSocket=__webpack_require__(2);var _dataSocket2=_interopRequireDefault(_dataSocket);var _dataProgress=__webpack_require__(11);var _dataProgress2=_interopRequireDefault(_dataProgress);var _dataRest=__webpack_require__(12);var _dataRest2=_interopRequireDefault(_dataRest);var _dataImage=__webpack_require__(16);var _dataImage2=_interopRequireDefault(_dataImage);var _watch=__webpack_require__(17);var _watch2=_interopRequireDefault(_watch);var _thumbUrl=__webpack_require__(19);var _thumbUrl2=_interopRequireDefault(_thumbUrl);var _observable=__webpack_require__(7);var _observable2=_interopRequireDefault(_observable);var _data=__webpack_require__(20);var State=function(_Data){var _instanceInitializers={};var _instanceInitializers={};_inherits(State,_Data);_createDecoratedClass(State,[{key:"id",decorators:[_data.key],initializer:null,enumerable:true},{key:"videoId",decorators:[_data.key],initializer:null,enumerable:true},{key:"width",decorators:[_data.key],initializer:null,enumerable:true},{key:"height",decorators:[_data.key],initializer:null,enumerable:true},{key:"h264",decorators:[_data.key],initializer:null,enumerable:true},{key:"hd",decorators:[_data.key],initializer:null,enumerable:true},{key:"fs",decorators:[_data.key],initializer:null,enumerable:true},{key:"sharing",decorators:[_data.key],initializer:null,enumerable:true},{key:"hovered",decorators:[_data.key],initializer:null,enumerable:true},{key:"embedded",decorators:[_data.key],initializer:null,enumerable:true},{key:"toolbarHovered",decorators:[_data.key],initializer:null,enumerable:true},{key:"seekDragging",decorators:[_data.key],initializer:null,enumerable:true},{key:"playsCount",decorators:[_data.key],initializer:null,enumerable:true},{key:"pausesCount",decorators:[_data.key],initializer:null,enumerable:true},{key:"seeking",decorators:[_data.key],initializer:null,enumerable:true},{key:"seekCount",decorators:[_data.key],initializer:null,enumerable:true},{key:"userSeekCount",decorators:[_data.key],initializer:null,enumerable:true},{key:"permalink",decorators:[_data.key],initializer:null,enumerable:true},{key:"loop",decorators:[_data.key],initializer:null,enumerable:true},{key:"birthDate",decorators:[_data.key],initializer:null,enumerable:true},{key:"startAt",decorators:[_data.key],initializer:null,enumerable:true},{key:"autoPlay",decorators:[_data.key],initializer:null,enumerable:true},{key:"defaultLangCode",decorators:[_data.key],initializer:null,enumerable:true},{key:"muted",decorators:[_data.key],initializer:null,enumerable:true},{key:"hideShim",decorators:[_data.key],initializer:null,enumerable:true},{key:"posterUrl",decorators:[_data.key],initializer:null,enumerable:true},{key:"preloadContent",decorators:[_data.key],initializer:null,enumerable:true},{key:"controls",decorators:[_data.key],initializer:null,enumerable:true},{key:"playbackRate",decorators:[_data.key],initializer:null,enumerable:true},{key:"playbackRateControlsShowing",decorators:[_data.key],initializer:null,enumerable:true},{key:"subActive",decorators:[_data.key],initializer:null,enumerable:true},{key:"subsShowing",decorators:[_data.key],initializer:null,enumerable:true},{key:"videoAt",decorators:[_data.key],initializer:null,enumerable:true},{key:"videoDuration",decorators:[_data.key],initializer:null,enumerable:true},{key:"shareAt",decorators:[_data.key],initializer:null,enumerable:true},{key:"shareLoop",decorators:[_data.key],initializer:null,enumerable:true},{key:"shareAutoPlay",decorators:[_data.key],initializer:null,enumerable:true},{key:"at",decorators:[_data.key],initializer:null,enumerable:true},{key:"loaded",decorators:[_data.key],initializer:null,enumerable:true},{key:"volume",decorators:[_data.key],initializer:null,enumerable:true},{key:"volumeOld",decorators:[_data.key],initializer:null,enumerable:true},{key:"volumeHovering",decorators:[_data.key],initializer:null,enumerable:true},{key:"volumeChanging",decorators:[_data.key],initializer:null,enumerable:true},{key:"thumbData",decorators:[_data.key],initializer:null,enumerable:true},{key:"thumbHoverAt",decorators:[_data.key],initializer:null,enumerable:true},{key:"thumbHeight",decorators:[_data.key],initializer:null,enumerable:true},{key:"thumbGridMax",decorators:[_data.key],initializer:null,enumerable:true},{key:"playing",decorators:[_data.key],initializer:null,enumerable:true},{key:"videoPlaying",decorators:[_data.key],initializer:null,enumerable:true},{key:"waiting",decorators:[_data.key],initializer:null,enumerable:true},{key:"qualityTooltipShowing",decorators:[_data.key],initializer:null,enumerable:true},{key:"fullscreenTooltipShowing",decorators:[_data.key],initializer:null,enumerable:true},{key:"seekAt",decorators:[_data.flag],initializer:null,enumerable:true},{key:"card",decorators:[_data.flag],initializer:null,enumerable:true}],null,_instanceInitializers);function State(){var requestProvider=arguments.length<=0||arguments[0]===undefined?null:arguments[0];_classCallCheck(this,State);_get(Object.getPrototypeOf(State.prototype),"constructor",this).call(this);_defineDecoratedPropertyDescriptor(this,"id",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"videoId",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"width",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"height",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"h264",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"hd",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"fs",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"sharing",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"hovered",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"embedded",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"toolbarHovered",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"seekDragging",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"playsCount",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"pausesCount",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"seeking",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"seekCount",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"userSeekCount",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"permalink",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"loop",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"birthDate",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"startAt",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"autoPlay",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"defaultLangCode",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"muted",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"hideShim",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"posterUrl",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"preloadContent",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"controls",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"playbackRate",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"playbackRateControlsShowing",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"subActive",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"subsShowing",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"videoAt",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"videoDuration",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"shareAt",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"shareLoop",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"shareAutoPlay",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"at",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"loaded",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"volume",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"volumeOld",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"volumeHovering",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"volumeChanging",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"thumbData",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"thumbHoverAt",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"thumbHeight",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"thumbGridMax",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"playing",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"videoPlaying",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"waiting",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"qualityTooltipShowing",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"fullscreenTooltipShowing",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"seekAt",_instanceInitializers);_defineDecoratedPropertyDescriptor(this,"card",_instanceInitializers);this._requestProvider=requestProvider?requestProvider(_observable2["default"]):_dataRest2["default"]}_createDecoratedClass(State,[{key:"url",decorators:[(0,_data.depends)("id")],value:function url(id){if(!id)return null;return"https://videopress.com/v/"+id}},{key:"data",decorators:[(0,_data.depends)("id","birthDate")],value:function data(id,birthDate){var requestProvider=this._requestProvider;return(0,_watch2["default"])(requestProvider(id,birthDate),{errors:false})}},{key:"socket",decorators:[(0,_data.depends)("id")],value:function socket(id){return(0,_dataSocket2["default"])(id)}},{key:"state",decorators:[(0,_data.depends)("data","processing","converting","fetchingSubs","src")],value:function state(data,processing,converting,fetchingSubs,src){if(!data||processing||fetchingSubs||!converting&&!src){this.postMessage({event:"videopress_loading_state",state:"loading",converting:converting,processing:processing,fetchingSubs:fetchingSubs,src:src,id:this.id()});return"loading"}if(data instanceof Error||converting&&this.conversionFailed()){this.postMessage({event:"videopress_loading_state",state:"error",converting:converting,processing:processing,fetchingSubs:fetchingSubs,src:src,id:this.id()});return"error"}else{this.postMessage({event:"videopress_loading_state",state:"loaded",converting:converting,processing:processing,fetchingSubs:fetchingSubs,src:src,id:this.id()});this.setWaiting(false);return"loaded"}}},{key:"ageGated",decorators:[(0,_data.depends)("data","birthDate")],value:function ageGated(data,birthDate){if(birthDate&&!data)return true;if(data&&data instanceof Error){return"forbidden"==data.code||"invalid_input"==data.code}return false}},{key:"ageGateState",decorators:[(0,_data.depends)("state","birthDate")],value:function ageGateState(state,birthDate){if(!birthDate)return"";if("forbidden"==this.errorCode())return"denied";return state}},{key:"conversionFailed",decorators:[(0,_data.depends)("data","h624")],value:function conversionFailed(data,h264){if(!data||!data.files_status)return false;var status=data.files_status;return Object.keys(status).filter(function(format){return null!=status[format]&&null!=status[format].mp4}).every(function(format){return Object.keys(status[format]).filter(h264?function(type){return true}:function(type){return type=="ogg"}).every(function(type){return"ERROR"==status[format][type]})})}},{key:"duration",decorators:[(0,_data.depends)("data","videoDuration")],value:function duration(data,videoDuration){if(!data)return;return videoDuration||data.duration/1e3}},{key:"title",decorators:[(0,_data.depends)("data")],value:function title(data){return data.title}},{key:"sharable",decorators:[(0,_data.depends)("data")],value:function sharable(data){return data.display_embed}},{key:"ready",decorators:[(0,_data.depends)("state","converting","processing")],value:function ready(state,converting,processing){return"loaded"==state&&!converting&&!processing}},{key:"src",decorators:[(0,_data.depends)("data","h264","hd")],value:function src(data,h264,hd){if(data===undefined)data={};if(!data||!data.files||!data.files.std)return"";var files=data.files;var src=undefined;if(h264){src=(hd?files.hd||files.dvd||files.std:files.dvd||files.std).mp4}else{src=data.files.std.ogg}if(!src)return"";var url=data.file_url_base.https;return""+url+src}},{key:"original",decorators:[(0,_data.depends)("data")],value:function original(data){return data.original}},{key:"mp4",decorators:[(0,_data.depends)("data")],value:function mp4(data){if(!data.files)return"";var file=data.files.hd||data.files.dvd||data.files.std;var src=file.mp4;var url=data.file_url_base.https;return""+url+src}},{key:"ogg",decorators:[(0,_data.depends)("data")],value:function ogg(data){if(!data.files||!data.files.std)return"";var src=data.files.std.ogg;var url=data.file_url_base.https;return""+url+src}},{key:"poster",decorators:[(0,_data.depends)("data","posterUrl")],value:function poster(data,posterUrl){if(posterUrl)return posterUrl;if(!data||!data.files||!data.files.std)return"";var at=this.at();var startAt=this.startAt();if(at&&at==startAt){return(0,_thumbUrl2["default"])(this.id(),at,1,1,500,Math.round(500*data.height/data.width))}var src=data.poster;if(!src)return"";return src}},{key:"preload",decorators:[(0,_data.depends)("preloadContent","at")],value:function preload(preloadContent,at){if(preloadContent)return preloadContent;return at?"metadata":"none"}},{key:"finished",decorators:[(0,_data.depends)("data")],value:function finished(data){return data&&data.finished}},{key:"processing",decorators:[(0,_data.depends)("data","finished")],value:function processing(data,finished){return data&&!finished&&0===data.width&&0===data.height}},{key:"converting",decorators:[(0,_data.depends)("data")],value:function converting(data){return data&&!data.finished}},{key:"errorCode",decorators:[(0,_data.depends)("data")],value:function errorCode(err){return err&&err.code}},{key:"errorMessage",decorators:[(0,_data.depends)("data")],value:function errorMessage(err){return err&&err.errorMessage}},{key:"errorStatus",decorators:[(0,_data.depends)("data")],value:function errorStatus(err){return err.status}},{key:"progress",decorators:[(0,_data.depends)("socket","h264")],value:function progress(sock,h264){if(!sock)return;var status=this.data().files_status;var supported=[];if(h264){if(status.dvd){supported=["dvd_mp4"]}else{supported=["std_mp4"]}}else{supported=["std_ogg"]}this.postMessage({event:"videopress_progress",status:status,supported:supported,id:this.id()});return(0,_dataProgress2["default"])(sock,supported)}},{key:"supportsHD",decorators:[(0,_data.depends)("data")],value:function supportsHD(data){return data&&data.files&&null!=data.files_status.hd}},{key:"hasHD",decorators:[(0,_data.depends)("data")],value:function hasHD(data){return data&&data.files&&data.files.hd}},{key:"ended",decorators:[(0,_data.depends)("at","duration")],value:function ended(at,dur){return at>=dur}},{key:"spinnerShowing",decorators:[(0,_data.depends)("waiting","seeking")],value:function spinnerShowing(waiting,seeking){return waiting||seeking}},{key:"toolbarShowing",decorators:[(0,_data.depends)("playing","fs","hovered","sharing","thumbAt","ended","autoPlay","controls")],value:function toolbarShowing(playing,fs,hovered,sharing,thumbAt,ended,autoPlay,controls){if(!controls)return false;if(autoPlay&&!this.at()&&!hovered)return false;return!playing||hovered||sharing||ended||null!=thumbAt}},{key:"titlebarShowing",decorators:[(0,_data.depends)("title","sharable","playing","fs","hovered","sharing","thumbAt","ended","autoPlay","controls")],value:function titlebarShowing(title,sharable,playing,fs,hovered,sharing,thumbAt,ended,autoPlay,controls){if(!controls)return false;if(autoPlay&&!this.at()&&!hovered)return false;return(null!=title||sharable)&&(!playing||hovered||sharing||ended||null!=thumbAt)}},{key:"volumeShown",decorators:[(0,_data.depends)("volumeHovering","volumeChanging")],value:function volumeShown(hovering,changing){return hovering||changing}},{key:"floatingBars",decorators:[(0,_data.depends)("embedded","fs")],value:function floatingBars(embedded,fs){return embedded||fs}},{key:"shimShowing",decorators:[(0,_data.depends)("playing","userSeekCount","hideShim")],value:function shimShowing(playing,userSeekCount,hideShim){var at=this.at();var startAt=this.startAt();if(hideShim)return false;if(this.autoPlay()&&!at)return false;return!playing&&userSeekCount==1&&at==startAt}},{key:"posterShowing",decorators:[(0,_data.depends)("playing","waiting","seekCount")],value:function posterShowing(playing,waiting,seekCount){if(playing&&!waiting)return false;var at=this.at();var startAt=this.startAt();if(at==startAt)return true;if(!seekCount&&!playing&&!at)return true;return false}},{key:"toolbarZoomed",decorators:[(0,_data.depends)("floatingBars","hovered","playing")],value:function toolbarZoomed(floating,hovered,playing){return floating||hovered||!playing}},{key:"videoWidth",decorators:[(0,_data.depends)("data")],value:function videoWidth(data){return data.width}},{key:"videoHeight",decorators:[(0,_data.depends)("data")],value:function videoHeight(data){return data.height}},{key:"videoWidthFit",decorators:[(0,_data.depends)("videoWidth","videoHeight","width","height")],value:function videoWidthFit(vw,vh,w,h){if(vw>vh){return w}else{return vw*h/vh}}},{key:"videoHeightFit",decorators:[(0,_data.depends)("videoHeight","videoWidth","height","width")],value:function videoHeightFit(vh,vw,h,w){if(vh>vw){return h}else{return vh*w/vw}}},{key:"thumbURLLoaded",decorators:[(0,_data.depends)("thumbURL")],value:function thumbURLLoaded(url){if(!url)return;return(0,_dataImage2["default"])(url)}},{key:"thumbFramesCount",decorators:[(0,_data.depends)("duration","thumbGridMax")],value:function thumbFramesCount(dur,max){return Math.ceil(dur/10/max)*max}},{key:"thumbFramesInterval",decorators:[(0,_data.depends)("duration","thumbFramesCount")],value:function thumbFramesInterval(dur,count){return Math.max(1,Math.floor(dur/count))}},{key:"thumbAt",decorators:[(0,_data.depends)("thumbHoverAt","at","seekDragging")],value:function thumbAt(hoverAt,at,seekDragging){return hoverAt?hoverAt:seekDragging?at:null}},{key:"thumbIndex",decorators:[(0,_data.depends)("thumbAt","thumbFramesInterval","thumbGridMax")],value:function thumbIndex(at,interval,max){return Math.floor(at/interval)%max}},{key:"thumbWidth",decorators:[(0,_data.depends)("videoWidth","videoHeight","thumbHeight")],value:function thumbWidth(w,h,th){return Math.floor(w*th/h)}},{key:"thumbURL",decorators:[(0,_data.depends)("id","thumbAt","thumbGridMax","thumbFramesInterval","thumbWidth","thumbHeight","birthDate")],value:function thumbURL(id,at,max,interval,w,h,date){if(null==at)return;var every=max*interval;var start=Math.floor(at/every)*every;return(0,_thumbUrl2["default"])(id,start,max,interval,w,h,date)}},{key:"thumb",decorators:[(0,_data.depends)("thumbAt","thumbURL","thumbURLLoaded","thumbWidth","thumbHeight","thumbIndex","thumbGridMax","videoWidthFit","videoHeightFit")],value:function thumb(at,url,loaded,width,height,index,max,totalW,totalH){var dh=Math.min(height,totalH/4|0);var dw=Math.round(totalW*dh/totalH);return{at:at,url:url,index:index,width:dw,height:dh,cols:Math.sqrt(max),rows:Math.sqrt(max),waiting:true!==loaded}}},{key:"subLangs",decorators:[(0,_data.depends)("data")],value:function subLangs(data){if(!data)return[];var subs=data.subtitles;var langs=[];for(var code in subs){langs.push({code:code,name:subs[code].localized_label})}return langs}},{key:"subTracks",decorators:[(0,_data.depends)("data")],value:function subTracks(data){if(!data)return[];var subs=data.subtitles;var tracks=[];for(var code in subs){tracks.push({code:code,label:subs[code].localized_label,src:subs[code].vtt})}return tracks}},{key:"subActiveURL",decorators:[(0,_data.depends)("data","subActive")],value:function subActiveURL(data,active){if(data&&active){var sub=data.subtitles[active];return{src:sub.vtt,code:active,label:sub.localized_label}}else{return true}}},{key:"subs",decorators:[(0,_data.depends)("subLangs","subActive")],value:function subs(languages,active){if(!languages.length)return;return{active:active,languages:languages,setSub:this.setSub}}},{key:"toggleFullScreen",decorators:[_data.action],value:function toggleFullScreen(){var fullscreen=!this.fs();this.fs(fullscreen);this.postMessage({event:"videopress_toggle_fullscreen",state:fullscreen,id:this.id()})}},{key:"play",decorators:[_data.action],value:function play(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref$hover=_ref.hover;var hover=_ref$hover===undefined?true:_ref$hover;if(!this.playing()||this.ended()){this.playsCount((this.playsCount()||0)+1);if(this.ended()){this.seek(0)}this.sharing(false);this.playing(true);this.playPause(true);this.postMessage({event:"videopress_play_video",title:this.title(),id:this.id()});if(hover)this.hover()}}},{key:"pause",decorators:[_data.action],value:function pause(){this.playing(false);this.playPause(false);this.pausesCount((this.pausesCount()||0)+1);this.postMessage({event:"videopress_pause_video",title:this.title(),id:this.id()})}},{key:"togglePlay",decorators:[_data.action],value:function togglePlay(){var showCards=arguments.length<=0||arguments[0]===undefined?true:arguments[0];if(this.subsShowing()){this.subsShowing(false);return}if(this.playbackRateControlsShowing()){this.playbackRateControlsShowing(false)}if(this.playing()&&!this.ended()){this.pause();if(showCards)this.card("pause")}else{this.play();if(showCards){if(!this.seekDragging()&&this.playsCount()>1){this.card("play")}}}}},{key:"start",decorators:[_data.action],value:function start(v){this.startAt(v);this.seek(v)}},{key:"seek",decorators:[_data.action],value:function seek(v){if(v!=this.at()){this.waiting(true);this.at(v);this.seekAt(v);this.userSeekCount((this.userSeekCount()||0)+1)}}},{key:"setSeekDragging",decorators:[_data.action],value:function setSeekDragging(v){this.seekDragging(v);if(v){this._seekPlaying=this.playing();this.playPause(false)}else if(this._seekPlaying){delete this._seekPlaying;this.playPause(true)}}},{key:"setSubsShowing",decorators:[_data.action],value:function setSubsShowing(v){this.subsShowing(v)}},{key:"toolbarHover",decorators:[_data.action],value:function toolbarHover(){clearTimeout(this._hoverTimer);this.toolbarHovered(true)}},{key:"toolbarBlur",decorators:[_data.action],value:function toolbarBlur(){this.toolbarHovered(false)}},{key:"seekHover",decorators:[_data.action],value:function seekHover(v){this.thumbHoverAt(v)}},{key:"seekBlur",decorators:[_data.action],value:function seekBlur(){this.thumbHoverAt(null)}},{key:"setHD",decorators:[_data.action],value:function setHD(v){this.postMessage({event:"videopress_toggle_hd",state:v,id:this.id()});this.hd(v)}},{key:"toggleSharing",decorators:[_data.action],value:function toggleSharing(){this.sharing(!this.sharing())}},{key:"clickShareLink",decorators:[_data.action],value:function clickShareLink(){this.pause();var url="https://videopress.com/v/"+this.id();setTimeout(function(){window.open(url,"_blank")},100);return false}},{key:"hover",decorators:[_data.action],value:function hover(){var _this=this;clearTimeout(this._hoverTimer);this.hovered(true);if(this.playing()){this._hoverTimer=setTimeout(function(){_this.blur()},5e3)}}},{key:"blur",decorators:[_data.action],value:function blur(){this.hovered(false);clearTimeout(this._moveTimer);delete this._moveTimer}},{key:"move",decorators:[_data.action],value:function move(){var _this2=this;if(this._moveTimer)return;this._moveTimer=setTimeout(function(){_this2.hover();delete _this2._moveTimer},150)}},{key:"hoverVolume",decorators:[_data.action],value:function hoverVolume(){clearTimeout(this._blurVolumeTimer);this.volumeHovering(true)}},{key:"blurVolume",decorators:[_data.action],value:function blurVolume(){var _this3=this;this._blurVolumeTimer=setTimeout(function(){_this3.volumeHovering(false)},100)}},{key:"retainHoverVolume",decorators:[_data.action],value:function retainHoverVolume(){if(this.volumeHovering()){clearTimeout(this._blurVolumeTimer)}}},{key:"setVolume",decorators:[_data.action],value:function setVolume(v){this.volume(v)}},{key:"setVolumeChanging",decorators:[_data.action],value:function setVolumeChanging(v){this.volumeChanging(v)}},{key:"changeVolume",decorators:[_data.action],value:function changeVolume(e){var volume=e.target.volume;if(volume===0){this.muted(true);e.target.muted=true}else{this.muted(false);e.target.muted=false}}},{key:"toggleVolume",decorators:[_data.action],value:function toggleVolume(){if(this.volume()){this.volumeOld(this.volume());this.volume(0)}else{if(this.volumeOld()){this.volume(this.volumeOld())}else{this.volume(50)}}}},{key:"setAt",decorators:[_data.action],value:function setAt(v){if(!this.seekDragging()){this.at(v);this.videoAt(v)}}},{key:"setLoaded",decorators:[_data.action],value:function setLoaded(v){this.loaded(v);this.setWaiting(!v)}},{key:"setSeeking",decorators:[_data.action],value:function setSeeking(v){var wasSeeking=this.seeking();this.seeking(v);if(!v&&wasSeeking){this.seekCount((this.seekCount()||0)+1)}}},{key:"setWaiting",decorators:[_data.action],value:function setWaiting(v){this.waiting(v)}},{key:"setDuration",decorators:[_data.action],value:function setDuration(v){this.videoDuration(v)}},{key:"setPlaying",decorators:[_data.action],value:function setPlaying(v){this.playing(v)}},{key:"setWidthConstrain",decorators:[_data.action],value:function setWidthConstrain(w){var W=this.width();if(w==W)return;var h=this.height();this.width(w);this.height(h*w/W)}},{key:"back",decorators:[_data.action],value:function back(){var n=arguments.length<=0||arguments[0]===undefined?1:arguments[0];this.seek(Math.max(0,this.at()-n))}},{key:"forward",decorators:[_data.action],value:function forward(){var n=arguments.length<=0||arguments[0]===undefined?1:arguments[0];var dur=this.duration();this.seek(Math.min(dur,this.at()+n))}},{key:"setShareAt",decorators:[_data.action],value:function setShareAt(v){this.shareAt(v)}},{key:"setShareLoop",decorators:[_data.action],value:function setShareLoop(v){this.shareLoop(v)}},{key:"setVideoError",decorators:[_data.action],value:function setVideoError(){this.setWaiting(false)}},{key:"setShareAutoPlay",decorators:[_data.action],value:function setShareAutoPlay(v){this.shareAutoPlay(v)}},{key:"setBirthDate",decorators:[_data.action],value:function setBirthDate(m,d,y){this.birthDate({m:m,d:d,y:y})}},{key:"setSub",decorators:[_data.action],value:function setSub(sub){this.subActive(sub);this.subsShowing(false)}},{key:"enterQualityButton",decorators:[_data.action],value:function enterQualityButton(){this.qualityTooltipShowing(true)}},{key:"leaveQualityButton",decorators:[_data.action],value:function leaveQualityButton(){this.qualityTooltipShowing(false)}},{key:"qualityTooltipShown",decorators:[(0,_data.depends)("qualityTooltipShowing")],value:function qualityTooltipShown(qualityTooltipShowing){return qualityTooltipShowing}},{key:"qualityText",decorators:[(0,_data.depends)("hd")],value:function qualityText(hd){return hd?"HD":"SD"}},{key:"oppositeQualityText",decorators:[(0,_data.depends)("hd")],value:function oppositeQualityText(hd){return hd?"SD":"HD"}},{key:"qualityTooltipText",decorators:[(0,_data.depends)("hd")],value:function qualityTooltipText(hd){return hd?"Disable HD Quality":"Enable HD Quality"}},{key:"showFullscreenTooltip",decorators:[_data.action],value:function showFullscreenTooltip(){this.fullscreenTooltipShowing(true)}},{key:"hideFullscreenTooltip",decorators:[_data.action],value:function hideFullscreenTooltip(){this.fullscreenTooltipShowing(false)}},{key:"fullscreenTooltipShown",decorators:[(0,_data.depends)("fullscreenTooltipShowing")],value:function fullscreenTooltipShown(fullscreenTooltipShowing){return fullscreenTooltipShowing}},{key:"fullscreenTooltipText",decorators:[(0,_data.depends)("fs")],value:function fullscreenTooltipText(fs){return fs?"Disable Fullscreen Mode":"Enable Fullscreen Mode"}},{key:"postMessage",value:function postMessage(msg){if(typeof window==="undefined"){return}window.postMessage(msg,"*");if(parent!==window){parent.postMessage(msg,"*")}}},{key:"destroy",value:function destroy(){_get(Object.getPrototypeOf(State.prototype),"destroy",this).call(this);clearTimeout(this._blurVolumeTimer);clearTimeout(this._hoverTimer);clearTimeout(this._moveTimer)}},{key:"playPause",value:function playPause(on){var _this4=this;var handleError=function handleError(e){var iOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);var safari=/Safari/i.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);if(e.message==="The operation was aborted."&&(safari||iOS)){console.log("AutoPlay is disabled in Safari");return}console.error(e)};try{var v=document.getElementById(this.videoId());if(!v){var _ret=function(){var playPause=_this4.playPause.bind(_this4);setTimeout(function(){return playPause(on)},0);return{v:undefined}}();if(typeof _ret==="object")return _ret.v}var p=null;if(on){p=v.play();if(p instanceof Promise){p["catch"](handleError)}}else{p=v.pause();if(p instanceof Promise){p["catch"](handleError)}}}catch(e){handleError(e)}}}],null,_instanceInitializers);return State}(_data.Data);exports["default"]=State;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=socket;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _socketLoadJs=__webpack_require__(3);var _socketLoadJs2=_interopRequireDefault(_socketLoadJs);var _observable=__webpack_require__(7);var _observable2=_interopRequireDefault(_observable);var IO="https://io.videopress.com";function socket(id){var url=IO+"/?guid="+encodeURIComponent(id);return(0,_observable2["default"])(function(set,reject){var sock=undefined;var abort=(0,_socketLoadJs2["default"])(function(err,io){if(err)return reject(err);sock=io(url,{upgrade:false});sock.on("connect",function(){return set(sock)})});return function(){abort();if(sock)sock.disconnect()}})}module.exports=exports["default"]},function(module,exports,__webpack_require__){(function(global,process){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=socket;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _socketIoClient=__webpack_require__(5);var _socketIoClient2=_interopRequireDefault(_socketIoClient);var _loadScript=__webpack_require__(6);var _loadScript2=_interopRequireDefault(_loadScript);function socket(fn){var aborted=undefined;if(_socketIoClient.PENDING){var done=function done(err){if(aborted)return;fn(err,global.io)};if(global.io){setTimeout(done.bind(null,null),10)}else{(0,_loadScript2["default"])("https://cdn.socket.io/socket.io-1.3.5.js",done)}}else{process.nextTick(function(){return!aborted&&fn(null,_socketIoClient2["default"])})}return function(){return aborted=true}}module.exports=exports["default"]}).call(exports,function(){return this}(),__webpack_require__(4))},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PENDING=true;exports.PENDING=PENDING},function(module,exports){module.exports=function load(src,opts,cb){var head=document.head||document.getElementsByTagName("head")[0];var script=document.createElement("script");if(typeof opts==="function"){cb=opts;opts={}}opts=opts||{};cb=cb||function(){};script.type=opts.type||"text/javascript";script.charset=opts.charset||"utf8";script.async="async"in opts?!!opts.async:true;script.src=src;if(opts.attrs){setAttributes(script,opts.attrs)}if(opts.text){script.text=""+opts.text}var onend="onload"in script?stdOnEnd:ieOnEnd;onend(script,cb);if(!script.onload){stdOnEnd(script,cb)}head.appendChild(script)};function setAttributes(script,attrs){for(var attr in attrs){script.setAttribute(attr,attrs[attr])}}function stdOnEnd(script,cb){script.onload=function(){this.onerror=this.onload=null;cb(null,script)};script.onerror=function(){this.onerror=this.onload=null;cb(new Error("Failed to load "+this.src),script)}}function ieOnEnd(script,cb){script.onreadystatechange=function(){if(this.readyState!="complete"&&this.readyState!="loaded")return;this.onreadystatechange=null;cb(null,script)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};exports["default"]=observable;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _nextTick=__webpack_require__(8);var _nextTick2=_interopRequireDefault(_nextTick);var _nodeEventEmitter=__webpack_require__(10);var _nodeEventEmitter2=_interopRequireDefault(_nodeEventEmitter);function observable(init){var obv=new Observable;obv.on("observe",function(){var abort=init(obv._set.bind(obv),obv._err.bind(obv),obv._end.bind(obv));if(abort)obv.once("reset",abort)});return obv}var Observable=function(_Emitter){_inherits(Observable,_Emitter);function Observable(){_classCallCheck(this,Observable);_get(Object.getPrototypeOf(Observable.prototype),"constructor",this).call(this);this._subs=0}_createClass(Observable,[{key:"_maybeReset",value:function _maybeReset(){var _this=this;if(this._nextTick)return;this._nextTick=true;(0,_nextTick2["default"])(function(){if(!_this._subs)_this._reset();delete _this._nextTick},0)}},{key:"_set",value:function _set(val){if(this._ended)throw new Error("Ended");this._val=val;this.emit("val",val)}},{key:"_err",value:function _err(err){if(this._ended)throw new Error("Ended");this.error=err;this.emit("err",err)}},{key:"_end",value:function _end(val){if(this._ended)throw new Error("Ended");if(arguments.length)this._set(val);this._ended=true;this.emit("end")}},{key:"_reset",value:function _reset(){delete this._val;delete this._error;delete this._ended;this.emit("reset")}},{key:"subscribe",value:function subscribe(){var _this2=this;if(!this._subs++&&!this._nextTick)this.emit("observe");var sub=new Subscription(this,function(){if(!--_this2._subs)_this2._maybeReset()});return sub}}]);return Observable}(_nodeEventEmitter2["default"]);exports.Observable=Observable;var Subscription=function(){function Subscription(obv,ondispose){_classCallCheck(this,Subscription);this._obv=obv;this._cleanup=[];this._ondispose=ondispose}_createClass(Subscription,[{key:"_subscribe",value:function _subscribe(ev,fn,once){var _this3=this;this._obv[once?"once":"on"](ev,fn);this._cleanup.push(function(){_this3._obv.removeListener(ev,fn)})}},{key:"val",value:function val(fn){if(this._disposed)throw new Error("Disposed");if("_val"in this._obv)fn(this._obv._val);this._subscribe("val",fn);return this}},{key:"err",value:function err(fn){if(this._disposed)throw new Error("Disposed");if(this._obv._error){fn(this._obv._error)}else{this._subscribe("err",fn,true)}return this}},{key:"end",value:function end(fn){if(this._disposed)throw new Error("Disposed");if(this._obv._ended){fn()}else{this._subscribe("end",fn,true)}return this}},{key:"dispose",value:function dispose(){if(this._disposed)return;var fn=undefined;while(fn=this._cleanup.shift())fn();this._ondispose();this._disposed=true}}]);return Subscription}();exports.Subscription=Subscription},function(module,exports,__webpack_require__){(function(process,setImmediate){"use strict";var callable,byObserver;callable=function(fn){if(typeof fn!=="function")throw new TypeError(fn+" is not a function");return fn};byObserver=function(Observer){var node=document.createTextNode(""),queue,i=0;new Observer(function(){var data;if(!queue)return;data=queue;queue=null;if(typeof data==="function"){data();return}data.forEach(function(fn){fn()})}).observe(node,{characterData:true});return function(fn){callable(fn);if(queue){if(typeof queue==="function")queue=[queue,fn];else queue.push(fn);return}queue=fn;node.data=i=++i%2}};module.exports=function(){if(typeof process!=="undefined"&&process&&typeof process.nextTick==="function"){return process.nextTick}if(typeof document==="object"&&document){if(typeof MutationObserver==="function"){return byObserver(MutationObserver)}if(typeof WebKitMutationObserver==="function"){return byObserver(WebKitMutationObserver)}}if(typeof setImmediate==="function"){return function(cb){setImmediate(callable(cb))}}if(typeof setTimeout==="function"){return function(cb){setTimeout(callable(cb),0)}}return null}()}).call(exports,__webpack_require__(4),__webpack_require__(9).setImmediate)},function(module,exports,__webpack_require__){(function(setImmediate,clearImmediate){var nextTick=__webpack_require__(4).nextTick;var apply=Function.prototype.apply;var slice=Array.prototype.slice;var immediateIds={};var nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)};exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)};exports.clearTimeout=exports.clearInterval=function(timeout){timeout.close()};function Timeout(id,clearFn){this._id=id;this._clearFn=clearFn}Timeout.prototype.unref=Timeout.prototype.ref=function(){};Timeout.prototype.close=function(){this._clearFn.call(window,this._id)};exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId);item._idleTimeout=msecs};exports.unenroll=function(item){clearTimeout(item._idleTimeoutId);item._idleTimeout=-1};exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;if(msecs>=0){item._idleTimeoutId=setTimeout(function onTimeout(){if(item._onTimeout)item._onTimeout()},msecs)}};exports.setImmediate=typeof setImmediate==="function"?setImmediate:function(fn){var id=nextImmediateId++;var args=arguments.length<2?false:slice.call(arguments,1);immediateIds[id]=true;nextTick(function onNextTick(){if(immediateIds[id]){if(args){fn.apply(null,args)}else{fn.call(null)}exports.clearImmediate(id)}});return id};exports.clearImmediate=typeof clearImmediate==="function"?clearImmediate:function(id){delete immediateIds[id]}}).call(exports,__webpack_require__(9).setImmediate,__webpack_require__(9).clearImmediate)},function(module,exports){var util={};util.isObject=function isObject(arg){return typeof arg==="object"&&arg!==null};util.isNumber=function isNumber(arg){return typeof arg==="number"};util.isUndefined=function isUndefined(arg){return arg===void 0};util.isFunction=function isFunction(arg){return typeof arg==="function"};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.init=function(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined};EventEmitter.prototype.setMaxListeners=function(n){if(!util.isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"&&!this._events.error){er=arguments[1];if(er instanceof Error){throw er}else{throw Error('Uncaught, unspecified "error" event.')}return false}handler=this._events[type];if(util.isUndefined(handler))return false;if(util.isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];handler.apply(this,args)}}else if(util.isObject(handler)){len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!util.isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,util.isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(util.isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(util.isObject(this._events[type])&&!this._events[type].warned){var m;if(!util.isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;if(util.isFunction(console.error)){console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length)}if(util.isFunction(console.trace))console.trace()}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!util.isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!util.isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||util.isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(util.isObject(list)){for(i=length;i-->0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(util.isFunction(listeners)){this.removeListener(type,listeners)}else if(Array.isArray(listeners)){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(util.isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.listenerCount=function(emitter,type){var ret;if(!emitter._events||!emitter._events[type])ret=0;else if(util.isFunction(emitter._events[type]))ret=1;else ret=emitter._events[type].length;return ret}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=progress;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _observable=__webpack_require__(7);var _observable2=_interopRequireDefault(_observable);function progress(socket,types){return(0,_observable2["default"])(function(set,reject,done){var prog={};types.forEach(function(type){return prog[type]=0});var ondata=function ondata(data){if(!(data.type in prog))return;prog[data.type]=data.progress;var sum=0;for(var i in prog){sum+=prog[i]}var p=Math.floor(sum/types.length);if(100==p){socket.off("conversion status",ondata);done(p)}else{set(p)}};socket.on("conversion status",ondata);return function(){socket.off("conversion status",ondata)}})}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=rest;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _superagent=__webpack_require__(13);var _superagent2=_interopRequireDefault(_superagent);var _observable=__webpack_require__(7);var _observable2=_interopRequireDefault(_observable);var API="https://public-api.wordpress.com/rest/v1.1/videos";function rest(id){var _ref=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var m=_ref.m;var d=_ref.d;var y=_ref.y;var url=API+"/"+id;if(d&&m&&y){url=url+"?birth_month="+m+"&birth_day="+d+"&birth_year="+y}return(0,_observable2["default"])(function(set,reject,done){var req=(0,_superagent2["default"])(url,function(err,res){if(err&&!err.status)return reject(err);var body=res.body;if(!body||null==body.upload_date){var _err=new Error(body?body.message:"Unknown");_err.code=body?body.error:null;_err.errorMessage=body?body.errorMessage:null;_err.status=res.status;reject(_err)}else{done(body)}});return function(){req.abort()}})}module.exports=exports["default"]},function(module,exports,__webpack_require__){var Emitter=__webpack_require__(14);var reduce=__webpack_require__(15);var root="undefined"==typeof window?this||self:window;function noop(){}function isHost(obj){var str={}.toString.call(obj);switch(str){case"[object File]":case"[object Blob]":case"[object FormData]":return true;default:return false}}request.getXHR=function(){if(root.XMLHttpRequest&&(!root.location||"file:"!=root.location.protocol||!root.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}}return false};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};function isObject(obj){return obj===Object(obj)}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj){if(null!=obj[key]){pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(obj[key]))}}return pairs.join("&")}request.serializeObject=serialize;function parseString(str){var obj={};var pairs=str.split("&");var parts;var pair;for(var i=0,len=pairs.length;i<len;++i){pair=pairs[i];parts=pair.split("=");obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1]);}return obj}request.parseString=parseString;request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify};request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse};function parseHeader(str){var lines=str.split(/\r?\n/);var fields={};var index;var line;var field;var val;lines.pop();for(var i=0,len=lines.length;i<len;++i){line=lines[i];index=line.indexOf(":");field=line.slice(0,index).toLowerCase();val=trim(line.slice(index+1));fields[field]=val}return fields}function type(str){return str.split(/ *; */).shift()}function params(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();if(key&&val)obj[key]=val;return obj},{})}function Response(req,options){options=options||{};this.req=req;this.xhr=this.req.xhr;this.text=this.req.method!="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType==="undefined"?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;this.setStatusProperties(this.xhr.status);this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this.setHeaderProperties(this.header);this.body=this.req.method!="HEAD"?this.parseBody(this.text?this.text:this.xhr.response):null}Response.prototype.get=function(field){return this.header[field.toLowerCase()]};Response.prototype.setHeaderProperties=function(header){var ct=this.header["content-type"]||"";this.type=type(ct);var obj=params(ct);for(var key in obj)this[key]=obj[key]};Response.prototype.parseBody=function(str){var parse=request.parse[this.type];return parse&&str&&(str.length||str instanceof Object)?parse(str):null};Response.prototype.setStatusProperties=function(status){if(status===1223){status=204}var type=status/100|0;this.status=status;this.statusType=type;this.info=1==type;this.ok=2==type;this.clientError=4==type;this.serverError=5==type;this.error=4==type||5==type?this.toError():false;this.accepted=202==status;this.noContent=204==status;this.badRequest=400==status;this.unauthorized=401==status;this.notAcceptable=406==status;this.notFound=404==status;this.forbidden=403==status};Response.prototype.toError=function(){var req=this.req;var method=req.method;var url=req.url;var msg="cannot "+method+" "+url+" ("+this.status+")";var err=new Error(msg);err.status=this.status;err.method=method;err.url=url;return err};request.Response=Response;function Request(method,url){var self=this;Emitter.call(this);this._query=this._query||[];this.method=method;this.url=url;this.header={};this._header={};this.on("end",function(){var err=null;var res=null;try{res=new Response(self)}catch(e){err=new Error("Parser is unable to parse the response");err.parse=true;err.original=e;return self.callback(err)}self.emit("response",res);if(err){return self.callback(err,res)}if(res.status>=200&&res.status<300){return self.callback(err,res)}var new_err=new Error(res.statusText||"Unsuccessful HTTP response");new_err.original=err;new_err.response=res;new_err.status=res.status;self.callback(err||new_err,res)})}Emitter(Request.prototype);Request.prototype.use=function(fn){fn(this);return this};Request.prototype.timeout=function(ms){this._timeout=ms;return this};Request.prototype.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};Request.prototype.abort=function(){if(this.aborted)return;this.aborted=true;this.xhr.abort();this.clearTimeout();this.emit("abort");return this};Request.prototype.set=function(field,val){if(isObject(field)){for(var key in field){this.set(key,field[key])}return this}this._header[field.toLowerCase()]=val;this.header[field]=val;return this};Request.prototype.unset=function(field){delete this._header[field.toLowerCase()];delete this.header[field];return this};Request.prototype.getHeader=function(field){return this._header[field.toLowerCase()]};Request.prototype.type=function(type){this.set("Content-Type",request.types[type]||type);return this};Request.prototype.accept=function(type){this.set("Accept",request.types[type]||type);return this};Request.prototype.auth=function(user,pass){var str=btoa(user+":"+pass);this.set("Authorization","Basic "+str);return this};Request.prototype.query=function(val){if("string"!=typeof val)val=serialize(val);if(val)this._query.push(val);return this};Request.prototype.field=function(name,val){if(!this._formData)this._formData=new root.FormData;this._formData.append(name,val);return this};Request.prototype.attach=function(field,file,filename){if(!this._formData)this._formData=new root.FormData;this._formData.append(field,file,filename);return this};Request.prototype.send=function(data){var obj=isObject(data);var type=this.getHeader("Content-Type");if(obj&&isObject(this._data)){for(var key in data){this._data[key]=data[key]}}else if("string"==typeof data){if(!type)this.type("form");type=this.getHeader("Content-Type");if("application/x-www-form-urlencoded"==type){this._data=this._data?this._data+"&"+data:data}else{this._data=(this._data||"")+data}}else{this._data=data}if(!obj||isHost(data))return this;if(!type)this.type("json");return this};Request.prototype.callback=function(err,res){var fn=this._callback;this.clearTimeout();fn(err,res)};Request.prototype.crossDomainError=function(){var err=new Error("Origin is not allowed by Access-Control-Allow-Origin");err.crossDomain=true;this.callback(err)};Request.prototype.timeoutError=function(){var timeout=this._timeout;var err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout;this.callback(err)};Request.prototype.withCredentials=function(){this._withCredentials=true;return this};Request.prototype.end=function(fn){var self=this;var xhr=this.xhr=request.getXHR();var query=this._query.join("&");var timeout=this._timeout;var data=this._formData||this._data;this._callback=fn||noop;xhr.onreadystatechange=function(){if(4!=xhr.readyState)return;var status;try{status=xhr.status}catch(e){status=0}if(0==status){if(self.timedout)return self.timeoutError();if(self.aborted)return;return self.crossDomainError()}self.emit("end")};var handleProgress=function(e){if(e.total>0){e.percent=e.loaded/e.total*100}self.emit("progress",e)};if(this.hasListeners("progress")){xhr.onprogress=handleProgress}try{if(xhr.upload&&this.hasListeners("progress")){xhr.upload.onprogress=handleProgress}}catch(e){}if(timeout&&!this._timer){this._timer=setTimeout(function(){self.timedout=true;self.abort()},timeout)}if(query){query=request.serializeObject(query);this.url+=~this.url.indexOf("?")?"&"+query:"?"+query}xhr.open(this.method,this.url,true);if(this._withCredentials)xhr.withCredentials=true;if("GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var serialize=request.serialize[this.getHeader("Content-Type")];if(serialize)data=serialize(data)}for(var field in this.header){if(null==this.header[field])continue;xhr.setRequestHeader(field,this.header[field])}this.emit("request",this);xhr.send(data);return this};request.Request=Request;function request(method,url){if("function"==typeof url){return new Request("GET",method).end(url)}if(1==arguments.length){return new Request("GET",method)}return new Request(method,url)}request.get=function(url,data,fn){var req=request("GET",url);if("function"==typeof data)fn=data,data=null;if(data)req.query(data);if(fn)req.end(fn);return req};request.head=function(url,data,fn){var req=request("HEAD",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.del=function(url,fn){var req=request("DELETE",url);if(fn)req.end(fn);return req};request.patch=function(url,data,fn){var req=request("PATCH",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.post=function(url,data,fn){var req=request("POST",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.put=function(url,data,fn){var req=request("PUT",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};module.exports=request},function(module,exports){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks[event]=this._callbacks[event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){var self=this;this._callbacks=this._callbacks||{};function on(){self.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks[event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks[event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},function(module,exports){module.exports=function(arr,fn,initial){var idx=0;var len=arr.length;var curr=arguments.length==3?initial:arr[idx++];while(idx<len){curr=fn.call(null,curr,arr[idx],++idx,arr)}return curr}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=image;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _observable=__webpack_require__(7);var _observable2=_interopRequireDefault(_observable);function image(url){return(0,_observable2["default"])(function(set,reject,done){var img=new Image;var loading=true;img.onerror=function(e){loading=false;reject(new Error("Failed to load "+url))};img.onload=function(){loading=false;done(true)};img.src=url;return function(){if(loading){img.src=""}}})}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=watch;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _objEql=__webpack_require__(18);var _objEql2=_interopRequireDefault(_objEql);var _observable=__webpack_require__(7);var _observable2=_interopRequireDefault(_observable);var equals=_objEql2["default"].bind(null,function(a,b){return equals(a,b)});function watch(rest){var _ref=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var _ref$every=_ref.every;var every=_ref$every===undefined?3e3:_ref$every;var _ref$errors=_ref.errors;var errors=_ref$errors===undefined?true:_ref$errors;return(0,_observable2["default"])(function(set,reject,done){var sub=undefined;var last=undefined;var timer=undefined;var maybeSet=function maybeSet(data){if(last){if(!equals(last,data))set(data)}else{set(data)}last=data};var ondata=function ondata(data){maybeSet(data);if(data&&!data.finished)refetch()};var onerror=function onerror(err){if(!last||errors)maybeSet(err);if(errors)refetch()};var refetch=function refetch(){sub.dispose();timer=setTimeout(fetch,every)};var fetch=function fetch(){sub=rest.subscribe();sub.val(ondata).err(onerror)};fetch();return function(){sub.dispose();clearTimeout(timer)}})}module.exports=exports["default"]},function(module,exports){"use strict";function objEql(compFn,a,b){var keys,len,i;if(arguments.length<3){b=a;a=compFn;compFn=null}if(a===b){return true}if(!(a instanceof Object&&b instanceof Object)){return false}keys=Object.keys(a);len=keys.length;if(len!==Object.keys(b).length){return false}for(i=0;i<len;++i){if(compFn?!compFn(a[keys[i]],b[keys[i]]):a[keys[i]]!==b[keys[i]]){return false}}return true}objEql.deep=objEql.bind(null,function(a,b){return objEql.deep(a,b)});module.exports=objEql},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=url;var URL="https://thumbs.videopress.com";function url(id,start,max,interval,w,h,date){var birth="";if(date){birth+="bd="+date.d+"&bm="+date.m+"&by="+date.y+"&"}return URL+"/"+id+"?"+birth+("w="+w+"&")+("h="+h+"&")+("i="+interval+"&")+("s="+start+"&")+("c="+max+"&")+"vq=20&"+"q=60"}module.exports=exports["default"]},function(module,exports,__webpack_require__){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x2,_x3,_x4){var _again=true;_function:while(_again){var object=_x2,property=_x3,receiver=_x4;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x2=parent;_x3=property;_x4=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};exports.key=key;exports.depends=depends;exports.action=action;exports.flag=flag;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _observable2=__webpack_require__(7);var _observable3=_interopRequireDefault(_observable2);var _nodeEventEmitter=__webpack_require__(10);var _nodeEventEmitter2=_interopRequireDefault(_nodeEventEmitter);var Data=function(_Emitter){_inherits(Data,_Emitter);function Data(){_classCallCheck(this,Data);_get(Object.getPrototypeOf(Data.prototype),"constructor",this).call(this);this._obj={};this._obs={};this._sub={};this._deps={};this._observing={};this._userSet={};this._keys=new _nodeEventEmitter2["default"];this._keys.setMaxListeners(Infinity)}_createClass(Data,[{key:"_get",value:function _get(k){return this._obj[k]}},{key:"_set",value:function _set(k,v){var emit=arguments.length<=2||arguments[2]===undefined?true:arguments[2];var old=this._get(k);if(v!==old){this._obj[k]=v;if(emit){this.emit("change",k,v);this.emit("change "+k,v)}this._keys.emit(k,v)}}},{key:"_wrapComputed",value:function _wrapComputed(k,deps,fn){var _this=this;this._observable(k,deps,fn);return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(args.length){_this._userSet[k]=true;return _this._set(k,args[0])}else{_this._subscribe(k);_this._observe(k);return _this._get(k)}}}},{key:"_subscribe",value:function _subscribe(k){var _this2=this;this[k];if(this._deps[k]){this._deps[k].forEach(this._subscribe,this)}if(this._sub[k])return;if(this._obs[k]){var obv=this._obs[k];var sub=obv.subscribe().val(function(v){var emit=k in _this2._observing;_this2._set(k,v,emit)});this._sub[k]=sub}}},{key:"_observe",value:function _observe(k){if(!this._observing[k]&&!this._computing){this._observing[k]=true}}},{key:"unobserve",value:function unobserve(){for(var i in this._observing){if(this._userSet[i])continue;delete this._observing[i]}for(var i in this._sub){if(this._userSet[i])continue;this._sub[i].dispose();delete this._sub[i]}}},{key:"destroy",value:function destroy(){this.unobserve()}},{key:"_observable",value:function _observable(k,deps,fn){var _this3=this;if(this._obs[k])return;this._deps[k]=deps;this._obs[k]=(0,_observable3["default"])(function(set,reject,done){var sub=undefined;var compute=function compute(){if(sub){sub.dispose()}var depVals=deps.map(function(dep){return _this3._get(dep)});_this3._computing=true;var val=undefined;try{val=fn.apply(_this3,depVals)}catch(e){if(global.console)console.error(e)}delete _this3._computing;if(val&&val.subscribe){if(sub){set(null)}sub=val.subscribe();sub.val(set);sub.err(set)}else{set(val)}};deps.forEach(function(dep){return _this3._keys.on(dep,compute)});compute();return function(){deps.forEach(function(dep){_this3._keys.removeListener(dep,compute)});if(sub)sub.dispose()}})}},{key:"_wrapAction",value:function _wrapAction(k,fn){var _this4=this;return function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_this4.emit("action",k,args);fn.apply(_this4,args)}}}]);return Data}(_nodeEventEmitter2["default"]);exports.Data=Data;exports["default"]=Data;function key(prot,k,descriptor){descriptor.initializer=function(){return function(val){if(arguments.length){return this._set(k,val)}else{this._observe(k);return this._get(k)}}}}function depends(){for(var _len3=arguments.length,on=Array(_len3),_key3=0;_key3<_len3;_key3++){on[_key3]=arguments[_key3]}return function key(prot,k,descriptor){var fn=descriptor.value;return{configurable:true,get:function get(){var wrapped=this._wrapComputed(k,on,fn);Object.defineProperty(this,k,{value:wrapped,writable:true,configurable:true});return wrapped}}}}function action(prot,k,descriptor){var fn=descriptor.value;return{configurable:true,get:function get(){var wrap=this._wrapAction(k,fn);Object.defineProperty(this,k,{value:wrap,writable:true,configurable:true});return wrap}}}function flag(prot,k,descriptor){descriptor.initializer=function(){return function(val){if(arguments.length){return this._set(k,val)}else{var _val=this._get(k);delete this._obj[k];return _val}}}}}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=render;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vdiff=__webpack_require__(22);var _vdiff2=_interopRequireDefault(_vdiff);var _css=__webpack_require__(23);var _css2=_interopRequireDefault(_css);var _event=__webpack_require__(24);var _event2=_interopRequireDefault(_event);var RENDER_EVENTS={onremove:1,onattrdel:1,onattrset:1,onattradd:1};function render(div){var _ref=arguments[1]===undefined?{}:arguments[1];var _ref$prefix=_ref.prefix;var prefix=_ref$prefix===undefined?true:_ref$prefix;var evs={};var fns={};var key="__vd_"+rand();var keyNS=key+"_NS";var keyRemoved=key+"_removed";var keyEvs={};for(var i in RENDER_EVENTS){keyEvs[i]=key+"_"+i}if(true===prefix)prefix=key+"_";if(null==prefix||false===prefix)prefix="";var sheet=(0,_css2["default"])(prefix);var last=undefined,el=undefined;function paint(tree){if(last){patch(el,(0,_vdiff2["default"])(last,tree))}else{el=toDOM(tree);div.appendChild(el)}last=tree}function toDOM(vd,ns){if(vd.props){var _ret=function(){ns=ns||vd.props.xmlns;var dom=ns?document.createElementNS(ns,vd.name):document.createElement(vd.name);var atts=vd.attrs();if(atts.onattradd){addEvent(dom,"onattradd",atts.onattradd);delete atts.onattrset}for(var i in atts){if("key"==i)continue;if(/^xmlns/.test(i))continue;var val=atts[i];if(/^on/i.test(i)){addEvent(dom,i,val);continue}if(ns)dom[keyNS]=ns;setAttribute(dom,i,val,true)}if(vd.sheet){dom.textContent=sheet(vd.sheet)}else{vd.children.forEach(function(c){dom.appendChild(toDOM(c,ns))})}return{v:dom}}();if(typeof _ret==="object")return _ret.v}else{return document.createTextNode(vd.value())}}function setAttribute(dom,key,val){var add=arguments[3]===undefined?false:arguments[3];var ev=keyEvs[add?"onattradd":"onattrset"];if(dom[ev]){dom[ev](dom,key,val,set)}else{set()}function set(){if(dom[keyNS]){dom.setAttributeNS(null,key,val)}else{if("class"===key&&""!==prefix){val=val.split(/\s+/).map(function(v){return prefix+v}).join(" ")}dom.setAttribute(key,val)}}}function delAttribute(dom,key){var ev=keyEvs.onattrdel;if(dom[ev]){dom[ev](dom,key,del)}else{del()}function del(){if(dom[keyNS]){dom.removeAttributeNS(null,key)}else{dom.removeAttribute(key)}}}function listen(ev){div.addEventListener(ev,fns[ev]=function(e){if(e.bubbles)return;check(e.target,new _event2["default"](e))},true);div.addEventListener(ev,fns["b"+ev]=function(e){check(e.target,new _event2["default"](e),true)},false);function check(el,e,checkParent,orig){if(checkParent===undefined)checkParent=false;if(!el)return;var data=el[key];if(data){var fn=data[ev];if(fn){e.target=el;e.currentTarget=orig||el;fn(e);if(e.isPropagationStopped())return}}if(checkParent)check(el.parentNode,e,true,el)}}function unlisten(ev){div.removeEventListener(ev,fns[ev],true);div.removeEventListener(ev,fns["b"+ev],false)}function addEvent(dom,ev,fn){if(RENDER_EVENTS[ev]){dom[keyEvs[ev]]=fn}else{var type=ev.toLowerCase().replace(/^on/,"");if(!dom[key])dom[key]={};var data=dom[key];if(!fn||data[type]===fn)return;data[type]=fn;if(!evs[type])listen(type);evs[type]=(evs[type]||0)+1}}function removeEvent(dom,ev){var skipCheck=arguments[2]===undefined?false:arguments[2];if(RENDER_EVENTS[ev]){delete dom[keyEvs[ev]]}else{var type=ev.toLowerCase().replace(/^on/,"");var data=dom[key];delete data[type];if(!skipCheck)--evs[type]||unlisten(type)}}function patch(dom,ops){var get=function get(t){return t.reduce(function(p,n){var o=0;for(var i=0;i<p.childNodes.length;i++){if(p.childNodes[i][keyRemoved])continue;if(o++==n)return p.childNodes[i]}},dom)};ops.forEach(function(op){var target=get(op.target);switch(op.type){case"attr-add":case"attr-set":if("key"==op.key)break;if(/^on/i.test(op.key)){if(op.old)removeEvent(target,op.key,true);addEvent(target,op.key,op.val)}else{setAttribute(target,op.key,op.val,"attr-add"==op.type)}break;case"attr-del":if(/^on/i.test(op.key)){removeEvent(target,op.key)}else{delAttribute(target,op.key)}break;case"class-add":target.classList.add(prefix+op.val);break;case"class-del":target.classList.remove(prefix+op.val);break;case"style-add":case"style-set":target.style[op.key]=op.val;break;case"style-del":target.style.removeProperty(op.key);break;case"add":splice(target,op.index,0,toDOM(op.node));break;case"del":var dp=get(op.target.slice(0,-1));splice(dp,op.target.slice(-1)[0],1);break;case"replace":var rp=get(op.target.slice(0,-1));splice(rp,op.target.slice(-1)[0],1,toDOM(op.node));break;case"move":var mp=get(op.target.slice(0,-1));var node=splice(mp,op.target.slice(-1),1)[0];splice(mp,op.index,0,toDOM(node))}})}function splice(el,start,del){for(var _len=arguments.length,items=Array(_len>3?_len-3:0),_key=3;_key<_len;_key++){items[_key-3]=arguments[_key]}var children=[];for(var i=0;i<el.childNodes.length;i++){var child=el.childNodes[i];if(child[keyRemoved])continue;children.push(child)}if(start<0)start=children.length+start;start=Math.max(0,start);var sel=children[start];var ret=[];if(sel){if(!del&&!items.length){del=children.length-start}del=Math.max(0,del);if(del){var _loop=function(i){var child=children[start+i];if(child){var removeFn=child[keyEvs.onremove];if(removeFn){removeFn(child,function(){return el.removeChild(child)});child[keyRemoved]=true;delete child[keyEvs.onremove]}else{el.removeChild(child)}ret.push(child)}};for(var i=0;i<del;i++){_loop(i)}}if(items.length){sel=children[start+del];if(sel){items.forEach(function(item){el.insertBefore(item,sel)})}else{append()}}}else{append()}function append(){items.forEach(el.appendChild,el)}return ret}return paint}function rand(){return Math.random().toString(36).substr(7)}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=diff;function diff(origEl,newEl){var ops=[];compare(origEl,newEl,[]);function compare(o,n,i){if(isElement(o)&&isElement(n)){if(o.name==n.name){if("style"==o.name&&o.toHTML()!==n.toHTML()){op("replace",i,{node:n,old:o})}else{compareAttrs(o,n,i);compareChildren(o,n,i)}}else{op("replace",i,{node:n,old:o})}}else{if(isText(o)&&isText(n)&&o.value()===n.value()){return}op("replace",i,{node:n,old:o})}}function compareAttrs(o,n,i){var oattrs=o.props;var nattrs=n.props;for(var key in oattrs){if(!has(oattrs,key))continue;if("class"===key||"style"===key)continue;if(has(nattrs,key)){if(nattrs[key]!==oattrs[key]){if(null==nattrs[key]){op("attr-del",i,{key:key})}else{op("attr-set",i,{key:key,old:oattrs[key],val:nattrs[key]})}}}else{op("attr-del",i,{key:key})}}for(var key in nattrs){if(!has(oattrs,key)){op("attr-add",i,{key:key,val:nattrs[key]})}}compareClasses(o.classList,n.classList,i);compareStyles(o.style,n.style,i)}function compareClasses(o,n,i){o=o.value;n=n.value;if(!o.length&&!n.length){return}for(var k=0;k<Math.max(o.length,n.length);k++){var orig=o[k];var newc=n[k];if(null==orig){op("class-add",i,{val:newc})}else if(orig!==newc){op("class-del",i,{val:orig});if(null!=newc){op("class-add",i,{val:newc})}}}}function compareStyles(o,n,i){for(var prop in o){if(!has(o,prop))continue;if(has(n,prop)){if(o[prop]!==n[prop]){if(null==n[prop]){op("style-del",i,{key:prop})}else{op("style-set",i,{key:prop,old:o[prop],val:n[prop]})}}}else{op("style-del",i,{key:prop})}}for(var prop in n){if(!has(n,prop))continue;if(!has(o,prop)){op("style-add",i,{key:prop,val:n[prop]})}}}function compareChildren(o,n,i){var ignoreKeys=arguments[3]===undefined?false:arguments[3];if(!o.children.length&&!n.children.length){return}var key=undefined;if(!ignoreKeys){var el=o.children[0]||n.children[0];if(isElement(el)){var props=el.props;key=props.key?"key":props.id?"id":props.name?"name":null}}if(key){var t1={},t2={};var fallback=function fallback(){t1=t2=null;compareChildren(o,n,i,true)};var max=Math.max(o.children.length,n.children.length);for(var k=0;k<max;k++){var oc=o.children[k];var nc=n.children[k];if(oc){if(!isElement(oc)||null==oc.props[key])return fallback();t1[oc.props[key]]={el:oc,index:k}}if(nc){if(!isElement(nc)||null==nc.props[key])return fallback();t2[nc.props[key]]={el:nc,index:k}}}var added={};var deleted={};var d=0;for(var k=0;k<max;k++){var oc=o.children[k];var nc=n.children[k];var isDeleted=oc&&!t2[oc.props[key]];var isNew=nc&&!t1[nc.props[key]];if(isDeleted&&isNew){deleted[k]=true;added[k]=true;op("replace",i.concat(k-d),{node:nc,old:oc});continue}if(isDeleted){deleted[k]=true;op("del",i.concat(k-d),{node:oc});d++}if(isNew){added[k]=true;op("add",i,{node:nc,index:k})}}var x=0;var m=0;var a=0;var D=0;var moved={};for(var k=0;k<max;k++){if(deleted[k]&&added[k])x++;else if(deleted[k])D++;if(!deleted[k]&&added[k])a++;if(added[k])continue;var j=x++;var ii=j-m+a;var el=o.children[j+D];if(!el){x--;continue}var nel=n.children[k-D];if(!nel){x--;continue}var mel=t2[el.props[key]];if(!mel){x--;continue}if(moved[j])m-=moved[j];if(ii!=mel.index&&el.props[key]!=nel.props[key]){op("move",i.concat(ii),{index:mel.index});compare(el,mel.el,i.concat(mel.index));var at=mel.index+m;if(at<max){moved[at]=(moved[at]||0)+1;m++}if(mel.index<ii)m--}else{compare(el,mel.el,i.concat(ii))}}}else{var len=Math.max(o.children.length,n.children.length);var d=0;for(var k=0;k<len;k++){var orig=o.children[k];var repl=n.children[k];if(orig){if(repl){compare(orig,repl,i.concat(k))}else{op("del",i.concat(k-d),{node:orig});d++}}else{op("add",i,{node:repl,index:k})}}}}function op(type,target){var attrs=arguments[2]===undefined?{}:arguments[2];attrs.type=type;attrs.target=target;ops.push(attrs)}return ops}function isElement(el){return!!el.props}function isText(el){return el.value&&!el.props}function has(obj,key){return obj.hasOwnProperty(key)}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=css;function css(prefix){function serialize(obj){if(obj.params){return media(obj)}else if(obj.name){return animation(obj)}else if(obj.children){return scope(obj)}else{return ruleset(obj)}}function scope(obj){return obj.children.map(function(c){return serialize(c)}).join("")}function media(obj){return"@media "+obj.params+"{"+scope(obj)+"}"}function animation(obj){return"@keyframes "+prefix+obj.name+"{"+scope(obj)+"}"+("@-webkit-keyframes "+prefix+obj.name+"{"+scope(obj)+"}")}function ruleset(obj){var decs=obj.decs;var str="";for(var key in decs){if(str.length)str+=";";var val=decs[key];if(""!==prefix){var anim=key.match(/^(-webkit-|-moz-|-o-|-ms-)?animation(-name)?$/);if(anim){(function(){var name=function name(n){return/^(none|inherit)$/i.test(n)?n:prefix+n};if(anim[2]){val=name(val)}else{(function(){var replaced=undefined;val=val.split(/\s+/).map(function(v){if(!replaced&&v.length){v=name(v);replaced=true}return v}).join(" ")})()}})()}}str+=key+":"+val}return selector(obj.sel)+"{"+str+"}"}function selector(sel){var str="";var expect=undefined;for(var i=0;i<sel.length;i++){var chr=sel.charAt(i);if(expect&&chr==expect)expect=null;if("["==chr)expect="]";if(!expect&&"."===chr){str+="."+prefix}else{str+=chr}}return str}return serialize}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Event=function(){function Event(ev){_classCallCheck(this,Event);this.originalEvent=ev;this.stopped=false;for(var i in ev){if("webkitMovementX"!=i&&"webkitMovementY"!=i&&"function"!=typeof ev[i]){this[i]=ev[i]}}}_createClass(Event,[{key:"stopPropagation",value:function stopPropagation(){if(this.stopped)return;this.stopped=true}},{key:"preventDefault",value:function preventDefault(){return this.originalEvent.preventDefault()}},{key:"isPropagationStopped",value:function isPropagationStopped(){return this.stopped}}]);return Event}();exports["default"]=Event;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=debounce;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}else{return Array.from(arr)}}var _raf=__webpack_require__(26);var _raf2=_interopRequireDefault(_raf);function debounce(fn){var args=undefined;var next=undefined;function loop(){next=_raf2["default"](function(){next=null;fn.apply(undefined,_toConsumableArray(args))})}return{fn:function fn(){for(var _len=arguments.length,argv=Array(_len),_key=0;_key<_len;_key++){argv[_key]=arguments[_key]}if(!next)loop();args=argv},cancel:function cancel(){if(next)_raf2["default"].cancel(next)}}}module.exports=exports["default"]},function(module,exports,__webpack_require__){var now=__webpack_require__(27),global=typeof window==="undefined"?{}:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=global["request"+suffix],caf=global["cancel"+suffix]||global["cancelRequest"+suffix],isNative=true;for(var i=0;i<vendors.length&&!raf;i++){raf=global[vendors[i]+"Request"+suffix];caf=global[vendors[i]+"Cancel"+suffix]||global[vendors[i]+"CancelRequest"+suffix]}if(!raf||!caf){isNative=false;var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(callback){if(queue.length===0){var _now=now(),next=Math.max(0,frameDuration-(_now-last));last=next+_now;setTimeout(function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++){if(!cp[i].cancelled){try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}}}},Math.round(next))}queue.push({handle:++id,callback:callback,cancelled:false});return id};caf=function(handle){for(var i=0;i<queue.length;i++){if(queue[i].handle===handle){queue[i].cancelled=true}}}}module.exports=function(fn){if(!isNative){return raf.call(global,fn)}return raf.call(global,function(){try{fn.apply(this,arguments)}catch(e){setTimeout(function(){throw e},0)}})};module.exports.cancel=function(){caf.apply(global,arguments)}},function(module,exports,__webpack_require__){(function(process){(function(){var getNanoSeconds,hrtime,loadTime;if(typeof performance!=="undefined"&&performance!==null&&performance.now){module.exports=function(){return performance.now()}}else if(typeof process!=="undefined"&&process!==null&&process.hrtime){module.exports=function(){return(getNanoSeconds()-loadTime)/1e6};hrtime=process.hrtime;getNanoSeconds=function(){var hr;hr=hrtime();return hr[0]*1e9+hr[1]};loadTime=getNanoSeconds()}else if(Date.now){module.exports=function(){return Date.now()-loadTime};loadTime=Date.now()}else{module.exports=function(){return(new Date).getTime()-loadTime};loadTime=(new Date).getTime()}}).call(this)}).call(exports,__webpack_require__(4))},function(module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=hasH264;function hasH264(){if(!global.document)return false;var v=document.createElement("video");return!!(v.canPlayType&&v.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))}module.exports=exports["default"]}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=mainView;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _viewsPlayer=__webpack_require__(30);var _viewsPlayer2=_interopRequireDefault(_viewsPlayer);var _selectView=__webpack_require__(81);var _selectView2=_interopRequireDefault(_selectView);function mainView(st){return(0,_viewsPlayer2["default"])((0,_selectView2["default"])(st))}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=player;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _video=__webpack_require__(49);var _video2=_interopRequireDefault(_video);var _error=__webpack_require__(76);var _error2=_interopRequireDefault(_error);var _ageGate=__webpack_require__(77);var _ageGate2=_interopRequireDefault(_ageGate);var _loading=__webpack_require__(79);var _loading2=_interopRequireDefault(_loading);var _converting=__webpack_require__(80);var _converting2=_interopRequireDefault(_converting);function player(_ref){var view=_ref.view;var data=_ref.data;var width=_ref.width;var height=_ref.height;var main=(0,_vd2["default"])(".videopress",{style:{width:width+"px",height:height+"px","max-width":"100%","max-height":"100%",margin:"0 auto"}},css);switch(view){case"video":render(_video2["default"]);break;case"converting":render(_converting2["default"]);break;case"age-gate":render(_ageGate2["default"]);break;case"error":render(_error2["default"]);break;default:render(_loading2["default"])}function render(v){var el=v(data);el.props.key=view;main.add(el)}return main}var css=_vd2["default"].style();css.add(".videopress, .videopress *",{"box-sizing":"border-box","user-drag":"none","-webkit-user-drag":"none","user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none"});css.add(".videopress input",{"user-select":"text","-webkit-user-select":"text","-ms-user-select":"text","-moz-user-select":"text"});css.add(".videopress",{"font-family":'"San Francisco Display", "Helvetica Neue",'+' Helvetica, Arial, "Lucida Grande", sans-serif',overflow:"hidden"});module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=function(obj){return obj&&obj.__esModule?obj:{"default":obj}};Object.defineProperty(exports,"__esModule",{value:true});var _Node=__webpack_require__(32);var _Node2=_interopRequireWildcard(_Node);var _Text=__webpack_require__(33);var _Text2=_interopRequireWildcard(_Text);var _Style=__webpack_require__(34);var _Style2=_interopRequireWildcard(_Style);var _Element=__webpack_require__(42);var _Element2=_interopRequireWildcard(_Element);var _parse2=__webpack_require__(48);var _parse3=_interopRequireWildcard(_parse2);exports["default"]=build;exports.Node=_Node2["default"];exports.Text=_Text2["default"];exports.Element=_Element2["default"];exports.Style=_Style2["default"];exports.style=style;function build(sel){for(var _len=arguments.length,children=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){children[_key-1]=arguments[_key]}var _parse=_parse3["default"](sel);var tag=_parse.tag;var attrs=_parse.attrs;var el=new _Element2["default"](tag);if(isProperties(children[0])){var props=children.shift();for(var i in props){var prop=props[i];switch(i){case"class":if(null!=attrs["class"]){attrs["class"]+=" "+prop}else{attrs["class"]=prop}break;case"classes":var classes=props.classes;if(classes&&"object"==typeof classes){for(var c in classes){if(!prop[c])continue;if(null!=attrs["class"]){attrs["class"]+=" "+c}else{attrs["class"]=c}}}else{attrs[i]=prop}break;default:attrs[i]=prop}}}if(attrs)el.set(attrs);if(children)el.add(children);return el}build.style=style;function isProperties(obj){return obj&&"object"==typeof obj&&!Array.isArray(obj)&&!(obj instanceof _Node2["default"])}function style(){return new _Style2["default"]}},function(module,exports){"use strict";var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};Object.defineProperty(exports,"__esModule",{value:true});var Node=function Node(){_classCallCheck(this,Node)};exports["default"]=Node;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=function(obj){return obj&&obj.__esModule?obj:{"default":obj}};var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _inherits=function(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)subClass.__proto__=superClass};Object.defineProperty(exports,"__esModule",{value:true});var _Node2=__webpack_require__(32);var _Node3=_interopRequireWildcard(_Node2);var Text=function(_Node){function Text(value){_classCallCheck(this,Text);_get(Object.getPrototypeOf(Text.prototype),"constructor",this).call(this);this._value=value}_inherits(Text,_Node);_createClass(Text,[{key:"value",value:function value(){return this._value}},{key:"toHTML",value:function toHTML(){return this.value()}}]);return Text}(_Node3["default"]);exports["default"]=Text;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=function(obj){return obj&&obj.__esModule?obj:{"default":obj}};var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _inherits=function(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)subClass.__proto__=superClass};Object.defineProperty(exports,"__esModule",{value:true});var _Sheet=__webpack_require__(35);var _Sheet2=_interopRequireWildcard(_Sheet);var _Text=__webpack_require__(33);var _Text2=_interopRequireWildcard(_Text);var _Element2=__webpack_require__(42);var _Element3=_interopRequireWildcard(_Element2);var Style=function(_Element){function Style(){var _this=this;_classCallCheck(this,Style);_get(Object.getPrototypeOf(Style.prototype),"constructor",this).call(this,"style");this.sheet=new _Sheet2["default"];{var text=new _Text2["default"];text.value=function(){return _this.sheet.serialize()};this.children.push(text)}}_inherits(Style,_Element);_createClass(Style,[{key:"add",value:function add(){var _sheet;for(var _len=arguments.length,props=Array(_len),_key=0;_key<_len;_key++){props[_key]=arguments[_key]}(_sheet=this.sheet).add.apply(_sheet,props);return this}},{key:"remove",value:function remove(dec){this.sheet.remove(dec);return this}},{key:"anim",value:function anim(name,frames){return this.sheet.anim(name,frames)}},{key:"media",value:function media(params){return this.sheet.media(params)}}]);return Style}(_Element3["default"]);exports["default"]=Style;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&(obj["default"]||obj)};var Sheet=_interopRequire(__webpack_require__(36));var Block=_interopRequire(__webpack_require__(38));var Scope=_interopRequire(__webpack_require__(37));var Media=_interopRequire(__webpack_require__(40));var Animation=_interopRequire(__webpack_require__(41));var Ruleset=_interopRequire(__webpack_require__(39));exports=module.exports=Sheet;exports.Block=Block;exports.Scope=Scope;exports.Media=Media;exports.Animation=Animation;exports.Ruleset=Ruleset},function(module,exports,__webpack_require__){"use strict";var _inherits=function(child,parent){child.prototype=Object.create(parent&&parent.prototype,{constructor:{value:child,enumerable:false,writable:true,configurable:true}});if(parent)child.__proto__=parent};var _interopRequire=function(obj){return obj&&(obj["default"]||obj)};var Scope=_interopRequire(__webpack_require__(37));var Media=_interopRequire(__webpack_require__(40));var Animation=_interopRequire(__webpack_require__(41));var Sheet=function Sheet(){if(Scope){Scope.apply(this,arguments)}};_inherits(Sheet,Scope);Sheet.prototype.anim=function(name,frames,serializePrefixes){var anim=new Animation(name,serializePrefixes);for(var i in frames){anim.add(i,frames[i])}this.add(anim);return anim};Sheet.prototype.media=function(params){var _media=new Media(params);this.add(_media);return _media};module.exports=Sheet},function(module,exports,__webpack_require__){"use strict";var _inherits=function(child,parent){child.prototype=Object.create(parent&&parent.prototype,{constructor:{value:child,enumerable:false,writable:true,configurable:true}});if(parent)child.__proto__=parent};var _interopRequire=function(obj){return obj&&(obj["default"]||obj)};var Block=_interopRequire(__webpack_require__(38));var Ruleset=_interopRequire(__webpack_require__(39));var Scope=function Scope(){this.children=[]};_inherits(Scope,Block);Scope.prototype.add=function(sel,decs){if(sel instanceof Block){this.children.push(sel)}else{var rule=new Ruleset(sel,decs);this.children.push(rule)}return this};Scope.prototype.remove=function(dec){this.children=this.children.filter(function(v){return dec==v})};Scope.prototype.serialize=function(){return this.children.map(function(child){return child.serialize()}).join("")};module.exports=Scope},function(module,exports){"use strict";var Block=function Block(){};module.exports=Block},function(module,exports,__webpack_require__){"use strict";var _inherits=function(child,parent){child.prototype=Object.create(parent&&parent.prototype,{constructor:{value:child,enumerable:false,writable:true,configurable:true}});if(parent)child.__proto__=parent};var _interopRequire=function(obj){return obj&&(obj["default"]||obj)};var Block=_interopRequire(__webpack_require__(38));var Ruleset=function Ruleset(sel,decs){this.sel=sel;this.decs=decs};_inherits(Ruleset,Block);Ruleset.prototype.serialize=function(){var decs=this.decs;var str="";for(var key in decs){if(str.length)str+=";";str+=""+key+":"+decs[key]}return""+this.sel+"{"+str+"}"};module.exports=Ruleset},function(module,exports,__webpack_require__){"use strict";var _inherits=function(child,parent){child.prototype=Object.create(parent&&parent.prototype,{constructor:{value:child,enumerable:false,writable:true,configurable:true}});if(parent)child.__proto__=parent};var _interopRequire=function(obj){return obj&&(obj["default"]||obj)};var Scope=_interopRequire(__webpack_require__(37));var Media=function Media(params){Scope.call(this);this.params=params};_inherits(Media,Scope);Media.prototype.serialize=function(){return"@media "+this.params+" {\n  "+Scope.prototype.serialize.call(this)+"\n}"};module.exports=Media},function(module,exports,__webpack_require__){"use strict";var _inherits=function(child,parent){child.prototype=Object.create(parent&&parent.prototype,{constructor:{value:child,enumerable:false,writable:true,configurable:true}});if(parent)child.__proto__=parent};var _interopRequire=function(obj){return obj&&(obj["default"]||obj)};var Scope=_interopRequire(__webpack_require__(37));var prefixes=["-webkit","-moz","-o"];var Animation=function Animation(name,serializePrefixes){if(serializePrefixes===undefined)serializePrefixes=true;Scope.call(this);this.name=name;this.serializePrefixes=serializePrefixes};_inherits(Animation,Scope);Animation.prototype.serialize=function(){var _this=this;var css="@keyframes "+this.name+"{"+Scope.prototype.serialize.call(this)+"}";if(this.serializePrefixes){prefixes.forEach(function(p){css+="@"+p+"-keyframes "+_this.name+"{"+Scope.prototype.serialize.call(_this)+"}"})}return css};module.exports=Animation},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=function(obj){return obj&&obj.__esModule?obj:{"default":obj}};var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _inherits=function(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)subClass.__proto__=superClass};Object.defineProperty(exports,"__esModule",{value:true});var _Text=__webpack_require__(33);var _Text2=_interopRequireWildcard(_Text);var _Node2=__webpack_require__(32);var _Node3=_interopRequireWildcard(_Node2);var _voidTags=__webpack_require__(43);var _voidTags2=_interopRequireWildcard(_voidTags);var _flatten=__webpack_require__(45);var _flatten2=_interopRequireWildcard(_flatten);var _parseCSS=__webpack_require__(46);var _parseCSS2=_interopRequireWildcard(_parseCSS);var _ClassList=__webpack_require__(47);var _ClassList2=_interopRequireWildcard(_ClassList);var Element=function(_Node){function Element(tagName,isVoid){_classCallCheck(this,Element);_get(Object.getPrototypeOf(Element.prototype),"constructor",this).call(this);this.name=tagName;if(null!=isVoid){this["void"]=isVoid}else{this["void"]=null!=_voidTags2["default"][tagName]}this.style={};this.classList=new _ClassList2["default"];this.children=[];this.props={}}_inherits(Element,_Node);_createClass(Element,[{key:"add",value:function add(){var _this=this;for(var _len=arguments.length,children=Array(_len),_key=0;_key<_len;_key++){children[_key]=arguments[_key]}_flatten2["default"](children).filter(function(v){return null!=v&&"boolean"!=typeof v}).map(function(v){if("string"==typeof v||"number"==typeof v){return new _Text2["default"](String(v))}else{return v}}).forEach(function(v){return _this.children.push(v)});return this}},{key:"set",value:function set(prop,val){if("object"==typeof prop){for(var key in prop){this.set(key,prop[key])}}else{if("text"==prop){this.add(null==val?"":val)}else if("style"==prop&&val){if("object"==typeof val){this.style=val}else{this.style=_parseCSS2["default"](val)}}else if("class"==prop){var cl=this.classList;var add=cl.add.bind(cl);val.split(/\s+/).forEach(add)}else{if(val==null||val===false){delete this.props[prop]}else{this.props[prop]=val}}}return this}},{key:"attrs",value:function(_attrs){function attrs(){return _attrs.apply(this,arguments)}attrs.toString=function(){return _attrs.toString()};return attrs}(function(){var attrs=this.props;if(!empty(this.style)){attrs.style=toCSS(this.style)}else{delete attrs.style}if(this.classList.length){attrs["class"]=this.classList.toString()}else{delete attrs["class"]}return attrs})},{key:"toHTML",value:function toHTML(){var tag=this.name.toLowerCase();var html="<"+tag;var attrs=this.attrs();for(var key in attrs){if(attrs.hasOwnProperty(key)){html+=" "+key+"="+JSON.stringify(attrs[key])}}html+=">";var contentLength=0;this.children.forEach(function(el){var add=el.toHTML();contentLength+=add.length;html+=add});if(contentLength||!this["void"]){html+="</"+tag+">"}return html}}]);return Element}(_Node3["default"]);exports["default"]=Element;function empty(obj){for(var i in obj){if(obj.hasOwnProperty(i)){return false}}return true}function toCSS(obj){var css="";for(var k in obj){if(css.length)css+=";";css+=""+k+":"+obj[k]}return css}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=function(obj){return obj&&obj.__esModule?obj:{"default":obj}};Object.defineProperty(exports,"__esModule",{value:true});var _voidElements=__webpack_require__(44);var _voidElements2=_interopRequireWildcard(_voidElements);var tags={};_voidElements2["default"].forEach(function(el){tags[el]=1});exports["default"]=tags;module.exports=exports["default"]},function(module,exports){module.exports=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]},function(module,exports){var flatten=function(array,result,depth){depth--;for(var i=0;i<array.length;i++){if(depth>-1&&Array.isArray(array[i])){flatten(array[i],result,depth)}else{result.push(array[i])}}return result};module.exports=function(array,depth){if(depth<1){return Array.prototype.slice.call(array)}return flatten(array,[],depth||Infinity)}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=parse;var wraps={"(":")",'"':'"',"'":"'"};function parse(css){var ret={};var key="";var val=undefined;var wrap=undefined;for(var i=0;i<css.length;i++){var chr=css[i];if(null==val){if(":"!==chr){if(!/\s/.test(chr)){key+=chr}}else{val=""}}else{if(null==wrap){if(wraps.hasOwnProperty(chr)){wrap=wraps[chr]}}else{if(chr===wrap&&"\\"!==css[i-1]){wrap=null}}if(wrap||";"!==chr){val+=chr}if(!wrap&&(";"===chr||i+1===css.length)){ret[key]=val.trim();key="";val=null}}}return ret}module.exports=exports["default"]},function(module,exports){"use strict";var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var ClassList=function(){function ClassList(){_classCallCheck(this,ClassList);this.value=[]}_createClass(ClassList,[{key:"add",value:function add(c){c=(""+c).trim();if(c.length&&!this.contains(c)){this.value.push(c);updateLength(this)}}},{key:"remove",value:function remove(c){if(this.contains(c)){this.value.splice(this.value.indexOf(c),1);updateLength(this)}}},{key:"item",value:function item(i){return this.value[i]}},{key:"toggle",value:function toggle(c){var force=arguments[1]===undefined?null:arguments[1];if(null==force){if(this.contains(c)){this.remove(c)}else{this.add(c)}}else{this[force?"add":"remove"](c)}}},{key:"contains",value:function contains(c){return!!~this.value.indexOf(c)}},{key:"toString",value:function toString(){return this.value.join(" ")}}]);return ClassList}();exports["default"]=ClassList;function updateLength(cl){cl.length=cl.value.length}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=parse;function parse(str){var pieces=str.replace(/^</,"").replace(/>$/,"").split(/\s+/);var _parseTag=parseTag(pieces.shift());var tag=_parseTag.tag;var classes=_parseTag.classes;var id=_parseTag.id;var attrs=parseAttrs(pieces.join(" "));if(null!=id)attrs.id=id;if(classes.length||null!=attrs["class"]){attrs["class"]=classes.join(" ")+(null==attrs["class"]?"":attrs["class"])}return{tag:tag,attrs:attrs}}function parseTag(str){var ret={};var tag=str.match(/^[^\.#]+/);var id=str.match(/#([^\.#]+)/);var classes=str.match(/\.([^\.#]+)/g);tag=tag?tag[0]:"div";id=id?id[1]:null;classes=classes||[];classes=classes.map(function(v){return v.substr(1)});return{tag:tag,id:id,classes:classes}}function parseAttrs(str){var attrs={};var key=undefined,val=undefined,stop=undefined;for(var i=0;i<str.length;i++){var chr=str[i];if(null==val){if(null==key)key="";if("="==chr){val=""}else if(/\s/.test(chr)){if(key.length){attrs[key]=true;key=null}}else{key+=chr}}else{var stopped=undefined;if(!stop){if(/['"]/.test(chr)){stop=new RegExp(chr)}else{stop=/\s/;val+=chr}}else{stopped=stop.test(chr);if(!stopped)val+=chr}if(stopped||i+1==str.length){attrs[key]=val;key=val=stop=null}}}if(null!=key)attrs[key]=true;return attrs}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _toolbar2=__webpack_require__(50);var _toolbar3=_interopRequireDefault(_toolbar2);var _titlebar2=__webpack_require__(67);var _titlebar3=_interopRequireDefault(_titlebar2);var _playShim=__webpack_require__(70);var _playShim2=_interopRequireDefault(_playShim);var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _onAnimationEnd=__webpack_require__(71);var _onAnimationEnd2=_interopRequireDefault(_onAnimationEnd);var _videoElement=__webpack_require__(72);var _videoElement2=_interopRequireDefault(_videoElement);var _play=__webpack_require__(73);var _play2=_interopRequireDefault(_play);var _pause=__webpack_require__(75);var _pause2=_interopRequireDefault(_pause);var _spinner=__webpack_require__(57);var _spinner2=_interopRequireDefault(_spinner);var iOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);var safari=/Safari/i.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);var android=/android/i.test(navigator.userAgent);exports["default"]=function(_ref){var at=_ref.at;var fs=_ref.fs;var src=_ref.src;var loop=_ref.loop;var width=_ref.width;var height=_ref.height;var volume=_ref.volume;var poster=_ref.poster;var hovered=_ref.hovered;var toolbar=_ref.toolbar;var toolbarShowing=_ref.toolbarShowing;var posterShowing=_ref.posterShowing;var shimShowing=_ref.shimShowing;var playing=_ref.playing;var spinnerShowing=_ref.spinnerShowing;var ended=_ref.ended;var titlebar=_ref.titlebar;var titlebarShowing=_ref.titlebarShowing;var subActiveURL=_ref.subActiveURL;var subTracks=_ref.subTracks;var subDefaultCode=_ref.subDefaultCode;var togglePlay=_ref.togglePlay;var floatingBars=_ref.floatingBars;var seekDragging=_ref.seekDragging;var seekAt=_ref.seekAt;var card=_ref.card;var hover=_ref.hover;var blur=_ref.blur;var move=_ref.move;var setAt=_ref.setAt;var setLoaded=_ref.setLoaded;var setWaiting=_ref.setWaiting;var setSeeking=_ref.setSeeking;var setPlaying=_ref.setPlaying;var setDuration=_ref.setDuration;var setError=_ref.setError;var videoId=_ref.videoId;var autoplay=_ref.autoplay;var muted=_ref.muted;var changeVolume=_ref.changeVolume;var preload=_ref.preload;var playbackRate=_ref.playbackRate;if(android){toolbarShowing=false;if(!playing)shimShowing=true}if(shimShowing){spinnerShowing=false}var seekbarHeight=toolbar.zoomed?7:2;var videoData={key:"video",src:src,onwaiting:function onwaiting(){setWaiting(true)},onloadedmetadata:function onloadedmetadata(e){setDuration(e.target.duration)},onplaying:function onplaying(){setWaiting(false);setSeeking(false);setPlaying(true)},onseeking:function onseeking(){setSeeking(true)},onseeked:function onseeked(){setWaiting(false);setSeeking(false)},onerror:setError,onpause:function onpause(){return setPlaying(false)},onprogress:function onprogress(ev){var el=ev.target;if(el.duration){var buf=el.buffered;if(buf.length>0){setLoaded(buf.end(buf.length-1))}}},ontimeupdate:function ontimeupdate(ev){var el=ev.target;if(!el.__willSeekTo&&el.duration){setAt(el.currentTime)}},volume:volume/100,playing:playing&&!ended,playbackRate:playbackRate||1,width:width,height:height-(!floatingBars?28:0),style:{background:"transparent","max-width":"100%","max-height":"100%"},subtitle:subActiveURL,subtracks:subTracks,subdefault:subDefaultCode,id:videoId,muted:muted};if(autoplay)videoData.autoplay="1";if(loop)videoData.loop=true;if(null!=seekAt)videoData.currentTime=seekAt;if(android)videoData.onclick=androidPlay;if(!safari)videoData.preload=preload;var stop=function stop(e){e.stopPropagation();if(toolbar.subsShowing)toolbar.setSubsShowing(false)};var div=(0,_vd2["default"])(".video",{style:{width:width+"px",height:height+"px","max-width":"100%","max-height":"100%","background-color":spinnerShowing||fs?"#000":"transparent"},onclick:function onclick(){return!seekDragging&&togglePlay()},onmouseenter:hover,onmouseleave:blur,onmousemove:move},(0,_vd2["default"])(".video-title.video-bar",{key:"titlebar",onclick:stop,classes:{shown:titlebarShowing},style:floatingBars?{position:"absolute",top:0,"z-index":2}:{}},(0,_titlebar3["default"])(titlebar)),shimShowing&&(0,_vd2["default"])(".video-shim",{key:"shim",style:{cursor:"pointer",position:"absolute",width:width+"px",height:height+"px","max-width":"100%","max-height":"100%","z-index":1,"pointer-events":android?"none":""}},(0,_playShim2["default"])({width:width,height:height,hovered:hovered})),posterShowing&&(0,_vd2["default"])(".video-poster",{key:"poster",style:{"background-color":"#000","background-image":"url("+poster+")","background-size":"cover","background-position":"center",position:"absolute",width:width+"px",height:height+"px","max-width":"100%","max-height":"100%"}}),(0,_vd2["default"])(".video-waiting",{key:"waiting",classes:{shown:spinnerShowing}},(0,_spinner2["default"])({width:50})),(0,_videoElement2["default"])(videoData),(0,_vd2["default"])(".video-toolbar.video-bar",{key:"toolbar",onclick:stop,classes:{shown:toolbarShowing},style:floatingBars?{position:"absolute",bottom:0,"z-index":2}:{"z-index":2}},(0,_toolbar3["default"])(toolbar)),"play"==card&&(0,_vd2["default"])(".video-card",{key:"card",onremove:_onAnimationEnd2["default"]},(0,_play2["default"])()),"pause"==card&&(0,_vd2["default"])(".video-card",{key:"card",onremove:_onAnimationEnd2["default"]},(0,_pause2["default"])()),style());return div};var css=undefined;function style(){if(css)return css;css=_vd2["default"].style();css.set("key","style");css.add(".video",{position:"relative"});css.add(".video-bar",{opacity:0,transition:"opacity 200ms ease-out"});css.add(".video-bar.shown",{opacity:1});css.anim("bar-hide",{from:{opacity:1},to:{opacity:0}});css.add(".video-waiting",{position:"absolute",left:"50%",top:"50%","margin-left":"-25px","margin-top":"-10px",opacity:0,transition:"opacity 200ms ease-out"});css.add(".video-waiting.shown",{animation:"spinner-appear 200ms ease-out 1","-webkit-animation":"spinner-appear 200ms ease-out 1","animation-fill-mode":"forwards","-webkit-animation-fill-mode":"forwards","animation-delay":"300ms","-webkit-animation-delay":"300ms"});css.anim("spinner-appear",{from:{opacity:0},to:{opacity:.7}});css.add(".video-card",{position:"absolute",width:"1px",height:"1px",top:"50%",left:"50%","margin-top":"-60px","margin-left":"-60px"});return css}function androidPlay(e){var el=e.target;e.stopPropagation();if(el.paused){(function(){el.play();if(el.requestFullscreen){el.requestFullscreen()}else{el.webkitRequestFullscreen()}var pause=function pause(){if(!document.webkitIsFullScreen){el.pause();document.removeEventListener("webkitfullscreenchange",pause)}};document.addEventListener("webkitfullscreenchange",pause)})()}else{el.pause()}}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=toolbar;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _timeFormat=__webpack_require__(51);var _timeFormat2=_interopRequireDefault(_timeFormat);var _seekbar=__webpack_require__(53);var _seekbar2=_interopRequireDefault(_seekbar);var _subsTip=__webpack_require__(54);var _subsTip2=_interopRequireDefault(_subsTip);var _playbackRateTipJs=__webpack_require__(55);var _playbackRateTipJs2=_interopRequireDefault(_playbackRateTipJs);var _thumbTip=__webpack_require__(56);var _thumbTip2=_interopRequireDefault(_thumbTip);var _iconsPlay=__webpack_require__(58);var _iconsPlay2=_interopRequireDefault(_iconsPlay);var _iconsPause=__webpack_require__(60);var _iconsPause2=_interopRequireDefault(_iconsPause);var _iconsEditorExpand=__webpack_require__(61);var _iconsEditorExpand2=_interopRequireDefault(_iconsEditorExpand);var _iconsEditorContract=__webpack_require__(62);var _iconsEditorContract2=_interopRequireDefault(_iconsEditorContract);var _iconsVolume=__webpack_require__(63);var _iconsVolume2=_interopRequireDefault(_iconsVolume);var _iconsReload=__webpack_require__(64);var _iconsReload2=_interopRequireDefault(_iconsReload);var _iconsQualityButton=__webpack_require__(65);var _iconsQualityButton2=_interopRequireDefault(_iconsQualityButton);var _iconsPlaybackSpeed=__webpack_require__(66);var _iconsPlaybackSpeed2=_interopRequireDefault(_iconsPlaybackSpeed);var height=28;function toolbar(_ref){var _ref$at=_ref.at;var at=_ref$at===undefined?0:_ref$at;var total=_ref.total;var ended=_ref.ended;var playing=_ref.playing;var width=_ref.width;var _ref$loaded=_ref.loaded;var loaded=_ref$loaded===undefined?0:_ref$loaded;var zoomed=_ref.zoomed;var volume=_ref.volume;var volumeShown=_ref.volumeShown;var sub=_ref.sub;var subs=_ref.subs;var subsShowing=_ref.subsShowing;var hd=_ref.hd;var hasHD=_ref.hasHD;var fs=_ref.fs;var thumb=_ref.thumb;var thumbAt=_ref.thumbAt;var hoverVolume=_ref.hoverVolume;var blurVolume=_ref.blurVolume;var setVolume=_ref.setVolume;var volumeChanging=_ref.volumeChanging;var toggleVolume=_ref.toggleVolume;var togglePlay=_ref.togglePlay;var retainHoverVolume=_ref.retainHoverVolume;var setVolumeChanging=_ref.setVolumeChanging;var toggleFullScreen=_ref.toggleFullScreen;var setHD=_ref.setHD;var seek=_ref.seek;var setSeekDragging=_ref.setSeekDragging;var setSubsShowing=_ref.setSubsShowing;var seekHover=_ref.seekHover;var seekBlur=_ref.seekBlur;var toolbarHover=_ref.toolbarHover;var toolbarBlur=_ref.toolbarBlur;var qualityTooltipShown=_ref.qualityTooltipShown;var qualityText=_ref.qualityText;var oppositeQualityText=_ref.oppositeQualityText;var qualityTooltipText=_ref.qualityTooltipText;var playbackSpeedTooltipText=_ref.playbackSpeedTooltipText;var setPlaybackRate=_ref.setPlaybackRate;var playbackRate=_ref.playbackRate;var playbackRateControlsShowing=_ref.playbackRateControlsShowing;var setPlaybackRateControlsShowing=_ref.setPlaybackRateControlsShowing;var enterQualityButton=_ref.enterQualityButton;var leaveQualityButton=_ref.leaveQualityButton;var fullscreenTooltipShown=_ref.fullscreenTooltipShown;var fullscreenTooltipText=_ref.fullscreenTooltipText;var showFullscreenTooltip=_ref.showFullscreenTooltip;var hideFullscreenTooltip=_ref.hideFullscreenTooltip;var state=arguments[0];if(thumb||!playing){zoomed=true}var thTip=undefined;if(null!=thumbAt){var left=undefined;if(at==thumbAt){left=Math.min(Math.round(thumbAt/total*width)-6,width-12)}else{left=Math.min(Math.round(thumbAt/total*width),width)}left=Math.max(0,left);var tw=thumb.width+3*2;var tl=undefined;if(at==thumbAt){tl=Math.max(0,left-Math.ceil(tw/2)+6)}else{tl=Math.max(0,left-Math.ceil(tw/2))}var t=tl+tw;if(t>width)tl-=t-width;if(at!=thumbAt){thumb.tipLeft=left-tl}else{thumb.tipLeft=left-tl+6}thTip=(0,_vd2["default"])(".thumb-tip",{style:{transform:"translateX("+tl+"px)","-webkit-transform":"translateX("+tl+"px)"}},(0,_thumbTip2["default"])(thumb))}var div=(0,_vd2["default"])(".toolbar",{style:{width:width+"px"},onmouseenter:toolbarHover,onmouseleave:toolbarBlur},(0,_vd2["default"])(".controls",(0,_vd2["default"])(".left",(0,_vd2["default"])("button.button",{onclick:togglePlay,"class":playing?"pause":"play"},ended?(0,_iconsReload2["default"])():playing?(0,_iconsPause2["default"])():(0,_iconsPlay2["default"])()),(0,_vd2["default"])(".button.volume",{onmouseenter:hoverVolume,onmouseleave:blurVolume,onmousedown:toggleVolume},(0,_iconsVolume2["default"])({lines:!volume?0:volume<70?1:2})),(0,_vd2["default"])(".volume-bar",{onmouseenter:hoverVolume,onmouseleave:blurVolume,onmousedown:volumeDrag(state),classes:{showing:volumeShown}},(0,_vd2["default"])(".volume-inner",(0,_vd2["default"])(".volume-line"),(0,_vd2["default"])(".volume-knob",{classes:{changing:volumeChanging},style:{left:Math.floor(45*(volume/100))+"px"}}))),(0,_vd2["default"])(".at",{onmouseenter:retainHoverVolume,onmouseleave:blurVolume},(0,_timeFormat2["default"])(at),total&&(0,_vd2["default"])("span.total"," / ",(0,_timeFormat2["default"])(total)))),(0,_vd2["default"])(".right",subs&&(0,_vd2["default"])("button.button.text.subs",{classes:{active:subs.active},onclick:function onclick(){return setSubsShowing(!subsShowing)}},(0,_vd2["default"])("span.aria-hidden","CC"),(0,_vd2["default"])("span.screen-reader-text","Closed Captions")),(0,_iconsQualityButton2["default"])({hd:hd,hasHD:hasHD,setHD:setHD,qualityTooltipText:qualityTooltipText,enterQualityButton:enterQualityButton,leaveQualityButton:leaveQualityButton}),hasHD&&(0,_vd2["default"])(".tooltip.quality",{classes:{showing:qualityTooltipShown},text:qualityTooltipText}),(0,_iconsPlaybackSpeed2["default"])({playbackSpeedTooltipText:playbackSpeedTooltipText,setPlaybackRate:setPlaybackRate,playbackRate:playbackRate,playbackRateControlsShowing:playbackRateControlsShowing,setPlaybackRateControlsShowing:setPlaybackRateControlsShowing}),(0,_vd2["default"])("button.button.fs",{onclick:toggleFullScreen,classes:{active:fs},onmouseenter:showFullscreenTooltip,onmouseleave:hideFullscreenTooltip},(fs?_iconsEditorContract2["default"]:_iconsEditorExpand2["default"])({width:16,height:16})),(0,_vd2["default"])(".tooltip.fullscreen",{classes:{showing:fullscreenTooltipShown},text:fullscreenTooltipText}))),(0,_vd2["default"])(".toolbar-seekbar",{style:{bottom:"25px"}},(0,_seekbar2["default"])({width:width,total:total,at:at,loaded:loaded,seek:seek,setSeekDragging:setSeekDragging,seekHover:seekHover,seekBlur:seekBlur,zoomed:zoomed})),subsShowing&&(0,_vd2["default"])(".video-subs",{onclick:stop},(0,_subsTip2["default"])(subs)),playbackRateControlsShowing&&(0,_vd2["default"])(".playback-rate-controls",{onmouseleave:function onmouseleave(){if(playbackRateControlsShowing){setPlaybackRateControlsShowing(false)}}},(0,_playbackRateTipJs2["default"])({active:playbackRateControlsShowing,setActive:setPlaybackRateControlsShowing,playbackRate:playbackRate,setPlaybackRate:setPlaybackRate})),thTip,style());return div}function stop(e){e.stopPropagation()}function volumeDrag(_ref2){var setVolume=_ref2.setVolume;var setVolumeChanging=_ref2.setVolumeChanging;if(!setVolume)return;return function(e){var el=e.target;var rect=el.getBoundingClientRect();var calc=function calc(ev){var click=ev.clientX-rect.left;var vol=Math.round(click/50*100);vol=Math.max(0,vol);vol=Math.min(100,vol);setVolume(vol)};calc(e);setVolumeChanging(true);var move=function move(ev){return calc(ev)};var up=function up(){document.removeEventListener("mouseup",up,true);document.removeEventListener("mousemove",move,true);setVolumeChanging(false)};document.addEventListener("mouseup",up,true);document.addEventListener("mousemove",move,true)}}var safari=/Safari/.test(navigator.userAgent);var flex=safari?"-webkit-flex":/MSIE 10/.test(navigator.userAgent)?"-ms-flexbox":"flex";var css=undefined;function style(){if(css)return css;css=_vd2["default"].style();css.add(".toolbar",{background:"rgba(0,0,0,.8)",position:"relative",color:"#fff",height:height+"px","font-size":"10px","user-select":"none","-webkit-user-select":"none"});css.add(".toolbar-seekbar",{position:"absolute"});css.add(".button",{cursor:"pointer"});css.add(".button:hover svg path, .button:focus svg path",{fill:"rgb(0, 170, 220)"});css.add(".controls",{display:flex});css.add(".left, .right",{flex:1,"-webkit-flex":1,"-ms-flex":1,height:height+"px",display:flex,"align-items":"center","-webkit-align-items":"center","-ms-flex-align":"center"});css.add(".button",{height:height+"px",display:flex,"align-items":"center","-webkit-align-items":"center","-ms-flex-align":"center"});css.add(".button",{"line-height":0,padding:"0 6px"});css.add("button.button",{"background-color":"transparent",border:"none"});css.add("button.button:focus",{outline:"none"});css.add(".play, .pause",{"padding-left":"8px"});css.add(".fs",{"padding-right":"8px"});css.add(".left",{"flex-grow":"3","-webkit-flex-grow":"3","-ms-flex-positive":"3"});css.add(".right",{"flex-grow":"1","-webkit-flex-grow":"1","-ms-flex-positive":"1","justify-content":"flex-end","-webkit-justify-content":"flex-end","-ms-flex-pack":"end"});css.add(".thumb-tip",{position:"absolute",bottom:"40px","z-index":"30","pointer-events":"none"});css.add(".button.text",{color:"#ccc","text-shadow":"0 1px 0 #000","font-weight":"bold","letter-spacing":"-0.5px"});css.add(".button.text:hover",{color:"rgb(0, 170, 220)"});css.add(".button.text.active",{color:"#fff"});css.add(".button.text:focus",{color:"rgb(0, 170, 220)"});css.add(".button.fs svg path",{fill:"#ccc"});css.add(".button.fs:hover svg path, .button.fs:focus svg path",{fill:"rgb(0, 170, 220)"});css.add(".button.fs.active svg path",{fill:"#fff"});css.add(".at",{height:height+"px","line-height":height+1+"px","vertical-align":"middle","text-shadow":"0 1px 0 #000",cursor:"default"});css.add(".total",{color:"#9B9B9B"});css.add(".pause svg",{"shape-rendering":"optimizeQuality"});css.add(".volume",{"padding-left":"2px","padding-right":"12px"});css.add(".volume-bar",{width:"0",height:height+"px",transition:"width 100ms ease-out",position:"relative",overflow:"hidden"});css.add(".volume:hover + .volume-bar, .volume:focus + .volume-bar, .volume-bar.showing, .volume-bar:hover, .volume-bar:focus",{width:"60px",cursor:"pointer"});css.add(".volume-inner",{"padding-right":"10px",width:"60px",position:"relative"});css.add(".volume-line",{height:"4px",width:"50px",position:"absolute",top:"12px",background:"rgba(216,216,216,.7)"});css.add(".volume-knob",{position:"absolute",height:"14px",width:"5px",top:"7px",background:"rgba(255,255,255,.8)",transition:"background 200ms ease-in"});css.add(".volume-knob.changing",{background:"rgba(255,255,255,1)"});css.add(".video-subs",{position:"absolute",right:"4px","padding-bottom":"10px","z-index":"30",opacity:0,bottom:height-10+"px",animation:"appear 150ms ease-out","-webkit-animation":"appear 150ms ease-out","-webkit-animation-fill-mode":"both","animation-fill-mode":"both"});css.add(".playback-rate-controls",{position:"absolute",right:"0","padding-bottom":"0","z-index":"30",opacity:0,bottom:height+2+"px",animation:"appear 150ms ease-out","-webkit-animation":"appear 150ms ease-out","-webkit-animation-fill-mode":"both","animation-fill-mode":"both"});css.add(".screen-reader-text",{display:"none"});css.add(".tooltip",{display:"none"});css.add(".tooltip.showing",{display:"block",position:"absolute",right:"7px",bottom:"35px","background-color":"rgba(0,0,0,0.75)",padding:"5px 7px",color:"#ccc","z-index":10,animation:"appear 150ms ease-out","-webkit-animation":"appear 150ms ease-out","-webkit-animation-fill-mode":"both","animation-fill-mode":"both"});css.anim("appear",{from:{transform:"translateY(0)","-webkit-transform":"translateY(0)",opacity:0},to:{transform:"translateY(-5px)","-webkit-transform":"translateY(-5px)",opacity:1}});return css}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=format;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _timecodeutils=__webpack_require__(52);var _timecodeutils2=_interopRequireDefault(_timecodeutils);function format(n){var s=Math.round(n*100)/100;var fmt=_timecodeutils2["default"].secondsToTC(s);fmt=fmt.replace(/^00:/,"");fmt=fmt.replace(/^0(\d)/,"$1");return fmt}module.exports=exports["default"]},function(module,exports){var TimecodeUtils;TimecodeUtils=function(){function TimecodeUtils(){}TimecodeUtils._pad=function(i){if(i<10){return"0"+i}else{return i}};TimecodeUtils.secondsToTC=function(seconds){var hours,mins,secs;if(seconds==null){return void 0}if(seconds===""){return void 0}if(seconds>=0){hours=this._pad(parseInt(seconds/(60*60),10));seconds-=hours*60*60;mins=this._pad(parseInt(seconds/60,10));secs=this._pad(parseInt(seconds%60,10));return""+hours+":"+mins+":"+secs}else{return void 0}};TimecodeUtils.TCToSeconds=function(tc){var hours,matches,mins,secs,tcregex;tcregex=/^(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)?([0-5]?\d)$/;if(typeof tc!=="string"){return void 0}matches=tc.match(tcregex);if(matches!=null){hours=parseInt(matches[1],10);mins=parseInt(matches[2],10);secs=parseInt(matches[3],10);return hours*60*60+mins*60+secs}else{return void 0}};return TimecodeUtils}();module.exports=TimecodeUtils},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=seekbar;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);function seekbar(_ref){var at=_ref.at;var seek=_ref.seek;var total=_ref.total;var width=_ref.width;var loaded=_ref.loaded;var zoomed=_ref.zoomed;var seekHover=_ref.seekHover;var seekBlur=_ref.seekBlur;var setSeekDragging=_ref.setSeekDragging;var left=Math.max(0,Math.min(Math.round(at/total*width)-6,width-12));return(0,_vd2["default"])(".seekbar",{classes:{zoomed:zoomed},onmousedown:drag({width:width,total:total,seek:seek,setSeekDragging:setSeekDragging}),onmouseenter:hover({width:width,total:total,seekHover:seekHover,seekBlur:seekBlur}),style:{width:width+"px"}},(0,_vd2["default"])(".wrap",(0,_vd2["default"])(".knob",{style:{left:left+"px"}},(0,_vd2["default"])("div",(0,_vd2["default"])("div"))),(0,_vd2["default"])(".played.bar",{style:{width:Math.round(at/total*100)+"%"}}),(0,_vd2["default"])(".loaded.bar",{style:{width:Math.round(loaded/total*100)+"%"}})),style())}function hover(_ref2){var width=_ref2.width;var total=_ref2.total;var seekHover=_ref2.seekHover;var seekBlur=_ref2.seekBlur;return function(e){var el=e.target;var rect=el.getBoundingClientRect();var leave=function leave(){seekBlur();el.removeEventListener("mouseleave",leave,true);el.removeEventListener("mousemove",move,true)};var move=function move(ev){var p=(ev.clientX-rect.left)/width;var to=Math.max(0,Math.min(Math.round(p*total),total));seekHover(to)};el.addEventListener("mouseleave",leave,true);el.addEventListener("mousemove",move,true)}}function drag(_ref3){var width=_ref3.width;var total=_ref3.total;var seek=_ref3.seek;var setSeekDragging=_ref3.setSeekDragging;return function(e){var el=e.target;var rect=el.getBoundingClientRect();var calc=function calc(ev){var p=(ev.clientX-rect.left)/width;var to=Math.max(0,Math.min(Math.round(p*total),total));seek(to)};var dragging=false;calc(e);try{window.getSelection().removeAllRanges()}catch(e){}var move=function move(ev){if(!dragging)setSeekDragging(true);calc(ev);dragging=true};var up=function up(ev){document.removeEventListener("mouseup",up,true);document.removeEventListener("mousemove",move,true);setSeekDragging(false)};document.addEventListener("mouseup",up,true);document.addEventListener("mousemove",move,true)}}var css=undefined;function style(){if(css)return css;css=_vd2["default"].style();css.add(".seekbar",{height:"16px","padding-top":"6px",cursor:"pointer"});css.add(".wrap",{position:"relative",background:"rgba(102,102,102,.8)",height:"2px",transition:"height 100ms ease-in","pointer-events":"none"});css.add(".bar",{bottom:0,height:"100%",position:"absolute"});css.add(".knob",{"border-radius":"100%","box-shadow":"0 0 3px #000",position:"absolute","margin-top":"-2px","z-index":20,transform:"scale(0)",transition:"transform 50ms ease-out","transition-delay":"50ms","-webkit-transition":"-webkit-transform 50ms ease-out","-webkit-transition-delay":"50ms","pointer-events":"none"});css.add(".knob > div",{"border-radius":"100%",border:"4px solid #fff"});css.add(".knob > div > div",{"border-radius":"100%",border:"2px solid #000"});css.add(".seekbar.zoomed .wrap",{height:"7px"});css.add(".seekbar.zoomed .knob",{transform:"scale(1)","-webkit-transform":"scale(1)"});css.add(".played",{background:"rgba(0, 170, 220, .8)","z-index":10,"pointer-events":"none"});css.add(".loaded",{background:"#B0ADAD"});return css}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=subTip;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);function subTip(_ref){var languages=_ref.languages;var active=_ref.active;var setSub=_ref.setSub;var div=(0,_vd2["default"])(".subs-tip",active&&(0,_vd2["default"])("span.subs-off",{onclick:function onclick(){return setSub(null)}}," DISABLE ",(0,_vd2["default"])("span","("+active+")")),(0,_vd2["default"])(".subs-title","Subtitles"),(0,_vd2["default"])(".subs-langs",languages.map(function(sub){return(0,_vd2["default"])(".sub",{classes:{active:active==sub.code},onclick:function onclick(){setSub(active==sub.code?null:sub.code)}},active==sub.code&&(0,_vd2["default"])("span.remove",""),(0,_vd2["default"])("span.code",sub.code),(0,_vd2["default"])("span.name",sub.name))})),(0,_vd2["default"])(".sub-triangle"),style());return div}var css=undefined;function style(){if(css)return css;css=_vd2["default"].style();css.add(".subs-off",{"float":"right",padding:"11px 10px 0px 0px","text-transform":"uppercase","font-size":"9px",color:"#F35252",cursor:"pointer"});css.add(".subs-off span",{"font-weight":"bold"});css.add(".subs-off:hover, .subs-off:focus",{color:"#FF8080"});css.add(".subs-tip",{background:"rgba(0, 0, 0, .8)",width:"180px",position:"relative",color:"#fff","font-size":"11px","text-shadow":"0 1px 0 #000","margin-bottom":"6px","padding-bottom":"3px"});css.add(".subs-langs",{"max-height":"90px","overflow-y":"scroll"});css.add(".subs-title",{padding:"10px 10px 5px","text-transform":"uppercase","font-size":"10px"});css.add(".sub",{padding:"0 10px",height:"26px","line-height":"27px","vertical-align":"middle",cursor:"pointer","font-size":"11px",position:"relative"});css.add(".sub.active",{"background-color":"rgba(81, 81, 81, .47)"});css.add(".sub.active:hover, .sub.active:focus",{color:"#fff","text-decoration":"line-through"});css.add(".sub:hover span, .sub:focus span",{color:"rgb(0, 170, 220)"});css.add(".sub .code",{"font-weight":"bold","text-transform":"uppercase",display:"inline-block",width:"40px","margin-right":"5px"});css.add(".sub .name",{display:"inline-block",width:"90px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap","vertical-align":"top"});css.add(".sub .remove",{position:"absolute",right:"10px",bottom:"1px"});css.add(".sub-triangle",{border:"solid transparent",width:0,height:0,position:"absolute","pointer-events":"none",top:"100%",left:"113px","border-color":"rgba(0, 0, 0, 0)","border-top-color":"rgba(0, 0, 0, .8)","border-width":"5px","margin-left":"-5px"});return css}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=playbackRateTip;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var rates=[.5,.75,1,1.25,1.5,2];function playbackRateTip(_ref){var active=_ref.active;var setActive=_ref.setActive;var setPlaybackRate=_ref.setPlaybackRate;var playbackRate=_ref.playbackRate;var div=(0,_vd2["default"])(".rates-tip",(0,_vd2["default"])(".rates-title","Speed"),(0,_vd2["default"])(".rates-items",rates.map(function(rate){var rateActive=playbackRate===rate;return(0,_vd2["default"])(".rate",{classes:{active:rateActive},onclick:function onclick(){setPlaybackRate(rate);setActive(false)}},(0,_vd2["default"])("span.code",rate.toString()))})),(0,_vd2["default"])(".rates-triangle"),style());return div}var css=undefined;function style(){if(css)return css;css=_vd2["default"].style();css.add(".rates-tip",{background:"rgba(0, 0, 0, .8)",width:"100px",position:"relative",color:"#fff","font-size":"11px","text-shadow":"0 1px 0 #000","margin-bottom":"0px","padding-bottom":"0px"});css.add(".rates-items",{"max-height":"155px","overflow-y":"hidden"});css.add(".rates-title",{padding:"10px 10px 5px","text-transform":"uppercase","font-size":"10px"});css.add(".rate",{padding:"0 10px",height:"26px","line-height":"27px","vertical-align":"middle",cursor:"pointer","font-size":"11px",position:"relative"});css.add(".rate.active",{"background-color":"rgba(81, 81, 81, .47)"});css.add(".rate.active:hover, .rate.active:focus",{color:"#fff","text-decoration":"line-through"});css.add(".rate:hover span, .rate:focus span",{color:"rgb(0, 170, 220)"});css.add(".rate .code",{"font-weight":"bold","text-transform":"uppercase",display:"inline-block",width:"40px","margin-right":"5px"});css.add(".rates-triangle",{border:"solid transparent",width:0,height:0,position:"absolute","pointer-events":"none",top:"100%",left:"113px","border-color":"rgba(0, 0, 0, 0)","border-top-color":"rgba(0, 0, 0, .8)","border-width":"5px","margin-left":"-5px"});return css}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=tip;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _spinner=__webpack_require__(57);var _spinner2=_interopRequireDefault(_spinner);var _timeFormat=__webpack_require__(51);var _timeFormat2=_interopRequireDefault(_timeFormat);var PADDING=3;function tip(_ref){var at=_ref.at;var width=_ref.width;var height=_ref.height;var tipLeft=_ref.tipLeft;var waiting=_ref.waiting;var url=_ref.url;var rows=_ref.rows;var cols=_ref.cols;var index=_ref.index;var totalWidth=width+PADDING*2;var totalHeight=height+PADDING*2;var box=(0,_vd2["default"])(".box",{style:{height:totalHeight+"px"}});if(at){box.add((0,_vd2["default"])(".thumb-at",(0,_vd2["default"])("span",(0,_timeFormat2["default"])(at))))}var triangle=(0,_vd2["default"])(".triangle",{style:{width:0,height:0,"border-style":"solid","border-color":"rgba(0,0,0,.8) transparent transparent transparent",position:"absolute",bottom:0}});var div=(0,_vd2["default"])(".tip",{style:{width:totalWidth+"px",height:totalHeight+5+"px",position:"relative"}},box,triangle,style());if(waiting){var tw=30;box.add((0,_vd2["default"])(".tip-spinner",{key:"spinner",style:{width:tw+"px",margin:"auto","margin-top":(height+PADDING*2)/2-5+"px"}},(0,_spinner2["default"])({width:tw})))}else if(url){var left=index%cols*width;var _top=Math.floor(index/rows)*height;box.add((0,_vd2["default"])(".tip-image",{key:"image",style:{width:width+"px",height:height+"px","background-size":width*cols+"px "+height*rows+"px","background-image":"url("+url+")","background-position":"-"+left+"px -"+_top+"px"}}))}{var left=tipLeft;if(null==left){left=Math.round(totalWidth/2)}var bw=undefined;if(left>totalWidth-5){bw="5px 0 0 5px";left-=5}else if(left<5){bw="5px 5px 0 0"}else{bw="5px 5px 0 5px";left-=5}triangle.style.left=left+"px";triangle.style["border-width"]=bw}return div}var css=undefined;function style(){if(css)return css;css=_vd2["default"].style();css.add(".tip-spinner",{animation:"spinner 200ms ease-out 1","-webkit-animation":"spinner 200ms ease-out 1","animation-fill-mode":"forwards","-webkit-animation-fill-mode":"forwards","animation-delay":"300ms","-webkit-animation-delay":"300ms",opacity:0});css.add(".box",{overflow:"hidden",background:"rgba(0,0,0,.8)"});css.add(".thumb-at",{color:"#fff",position:"absolute",width:"100%","text-align":"center",bottom:"12px"});css.add(".thumb-at span",{background:"rgba(0,0,0,.7)",padding:"1px 2px"});css.add(".tip-image",{overflow:"hidden",margin:"3px 0 0 3px","background-repeat":"no-repeat"});css.anim("spinner",{from:{opacity:0},to:{opacity:.3}});return css}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=spinner;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);function spinner(data){data=data||{};var w=data.width||70;var iw=w*.33|0;var bs={style:{width:iw+"px",height:iw+"px"}};var div=(0,_vd2["default"])(".spinner",{style:{width:w+"px"}},(0,_vd2["default"])("span.bounce.bounce-1",bs),(0,_vd2["default"])("span.bounce.bounce-2",bs),(0,_vd2["default"])("span.bounce.bounce-3",bs),style());return div}var css=undefined;function style(){if(css)return css;css=_vd2["default"].style();css.add(".spinner",{"text-align":"center"});css.add(".bounce",prefix({"text-align":"center","border-radius":"100%",display:"inline-block","background-color":"#fff",animation:"bounce 1.4s infinite ease-in-out","animation-fill-mode":"both","box-shadow":"0 0 1px rgba(0,0,0,0.3)"}));css.anim("bounce",{"0%, 80%, 100%":{transform:"scale(0,0)","-webkit-transform":"scale(0,0)"},"40%":{transform:"scale(1.0)","-webkit-transform":"scale(1.0)"}});css.add(".bounce-1",prefix({"animation-delay":"-0.32s"}));css.add(".bounce-2",prefix({"animation-delay":"-0.16s"}));return css}function prefix(props){for(var k in props){if(/^animation/.test(k)){props["-webkit-"+k]=props[k]}}return props}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=play;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _screenReaderTextStyle=__webpack_require__(59);var _screenReaderTextStyle2=_interopRequireDefault(_screenReaderTextStyle);function play(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref$color=_ref.color;var color=_ref$color===undefined?"#ffffff":_ref$color;var _ref$width=_ref.width;var width=_ref$width===undefined?20:_ref$width;var _ref$height=_ref.height;var height=_ref$height===undefined?20:_ref$height;return(0,_vd2["default"])("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:width,height:height,viewBox:"0 0 20 20"},(0,_vd2["default"])("title.screen-reader-text",{text:"Play Video"}),(0,_vd2["default"])("path",{fill:color,d:"M5 4l10 6-10 6v-12z"}),(0,_screenReaderTextStyle2["default"])())}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=screen_reader_text_style;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);function screen_reader_text_style(){if(css)return css;var css=_vd2["default"].style();css.add(".screen-reader-text",{clip:"rect(1px, 1px, 1px, 1px)",position:"absolute !important",height:"1px",width:"1px",overflow:"hidden"});return css}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=pause;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _screenReaderTextStyle=__webpack_require__(59);var _screenReaderTextStyle2=_interopRequireDefault(_screenReaderTextStyle);function pause(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref$color=_ref.color;var color=_ref$color===undefined?"#ffffff":_ref$color;var _ref$width=_ref.width;var width=_ref$width===undefined?20:_ref$width;var _ref$height=_ref.height;var height=_ref$height===undefined?20:_ref$height;return(0,_vd2["default"])("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:width,height:height,viewBox:"0 0 20 20"},(0,_vd2["default"])("title.screen-reader-text",{text:"Pause Video"}),(0,_vd2["default"])("path",{fill:color,d:"M5 16v-12h3v12h-3zM12 4h3v12h-3v-12z"}),(0,_screenReaderTextStyle2["default"])())}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=editorExpand;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _screenReaderTextStyle=__webpack_require__(59);var _screenReaderTextStyle2=_interopRequireDefault(_screenReaderTextStyle);function editorExpand(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref$color=_ref.color;var color=_ref$color===undefined?"#ffffff":_ref$color;var _ref$width=_ref.width;var width=_ref$width===undefined?20:_ref$width;var _ref$height=_ref.height;var height=_ref$height===undefined?20:_ref$height;return(0,_vd2["default"])("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:width,height:height,viewBox:"0 0 20 20"},(0,_vd2["default"])("title.screen-reader-text",{text:"Enter Full Screen"}),(0,_vd2["default"])("path",{fill:color,d:"M6 3l-1.25 1.25 2.25 3.75-3.75-2.25-1.25 1.25v-4h4zM14 3h4v4l-1.25-1.25-3.75 2.25 2.25-3.75zM7 12v-4h6v4h-6zM2 13l1.25 1.25 3.75-2.25-2.25 3.75 1.25 1.25h-4v-4zM14 17l1.25-1.25-2.25-3.75 3.75 2.25 1.25-1.25v4h-4z"}),(0,_screenReaderTextStyle2["default"])())}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=editorContract;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _screenReaderTextStyle=__webpack_require__(59);var _screenReaderTextStyle2=_interopRequireDefault(_screenReaderTextStyle);function editorContract(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref$color=_ref.color;var color=_ref$color===undefined?"#ffffff":_ref$color;var _ref$width=_ref.width;var width=_ref$width===undefined?20:_ref$width;var _ref$height=_ref.height;var height=_ref$height===undefined?20:_ref$height;return(0,_vd2["default"])("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:width,height:height,viewBox:"0 0 20 20"},(0,_vd2["default"])("title.screen-reader-text",{text:"Exit Full Screen"}),(0,_vd2["default"])("path",{fill:color,d:"M3,8l1.2-1.2L2,3l3.8,2.2L7,4v4H3z M7,16l-1.2-1.2L2,17l2.2-3.8L3,12h4V16z M7,12V8h6v4H7z M17,8h-4V4l1.2,1.2L18,3l-2.2,3.8L17,8z M17,12l-1.2,1.2L18,17l-3.8-2.2L13,16v-4H17z"}),(0,_screenReaderTextStyle2["default"])())}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=volumeOn;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _screenReaderTextStyle=__webpack_require__(59);var _screenReaderTextStyle2=_interopRequireDefault(_screenReaderTextStyle);var line1="0zM16 10q0 0.7-0.235 1.315t-0.5 0.96-0.685 0.655-0.55 0.375-0.34 0.155l-0.010 0.010q-0.090 0.030-0.18 0.030-0.34 0-0.47-0.32-0.070-0.19 0.015-0.38t0.275-0.27q0.060-0.020 0.205-0.090t0.415-0.275 0.495-0.475 0.395-0.72 0.17-0.97-0.17-0.97-0.395-0.72-0.495-0.475-0.415-0.275-0.205-0.090q-0.19-0.080-0.275-0.27t-0.015-0.38q0.080-0.19 0.27-0.275t0.38-0.015q1.45 0.64 2.020 1.95 0.3 0.7 0.3";var line2="0.1t0.48 0.29 0.655 0.495 0.685 0.73 0.635 0.985 0.45 1.28 0.18 1.58-0.18 1.58-0.45 1.28-0.635 0.985-0.685 0.73-0.655 0.495-0.48 0.29-0.225 0.1q-0.080 0.040-0.19 0.040-0.35 0-0.46-0.31-0.080-0.19 0-0.38t0.27-0.27q0.1-0.050 0.19-0.090t0.385-0.235 0.535-0.415 0.55-0.605 0.52-0.82 0.36-1.060 0.15-1.315q0-0.96-0.285-1.78t-0.65-1.295-0.8-0.84-0.655-0.48-0.3-0.145q-0.19-0.080-0.27-0.27t0-0.38 0.27-0.27 0.38";function volumeOn(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref$color=_ref.color;var color=_ref$color===undefined?"#ffffff":_ref$color;var _ref$lines=_ref.lines;var lines=_ref$lines===undefined?0:_ref$lines;var _ref$width=_ref.width;var width=_ref$width===undefined?20:_ref$width;var _ref$height=_ref.height;var height=_ref$height===undefined?20:_ref$height;var L="";if(lines>1){L=line2+" "+line1}else if(lines>0){L=line1}return(0,_vd2["default"])("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:width,height:height,viewBox:"0 0 20 20"},(0,_vd2["default"])("title.screen-reader-text",{text:"Open Volume Control"}),(0,_vd2["default"])("path",{fill:color,d:"M2 7h4l5-4v14l-5-4h-4v-6zM14.69 4.54q0.080 0.030 0.225 "+L+" 1.52z"}),(0,_screenReaderTextStyle2["default"])())}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=reload;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _screenReaderTextStyle=__webpack_require__(59);var _screenReaderTextStyle2=_interopRequireDefault(_screenReaderTextStyle);function reload(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref$color=_ref.color;var color=_ref$color===undefined?"#ffffff":_ref$color;var _ref$width=_ref.width;var width=_ref$width===undefined?20:_ref$width;var _ref$height=_ref.height;var height=_ref$height===undefined?20:_ref$height;return(0,_vd2["default"])("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:width,height:height,viewBox:"0 0 20 20"},(0,_vd2["default"])("title.screen-reader-text",{text:"Reload Video"}),(0,_vd2["default"])("path",{fill:color,d:"M13.65 2.88q1.45 0.74 2.48 1.98t1.49 2.685 0.35 3.050-0.85 3.055-1.98 2.475-2.68 1.49-3.050 0.355-3.060-0.85q-1.38-0.71-2.37-1.85t-1.49-2.55l1.64-1.030q0.34 1.2 1.135 2.18t1.945 1.58q1.11 0.57 2.34 0.655t2.33-0.27 2.045-1.145 1.515-1.9 0.66-2.34-0.27-2.33-1.145-2.050-1.895-1.52-2.34-0.655-2.33 0.27-2.045 1.145-1.515 1.9l1.88 0.97-4.95 3.080-0.39-5.82 1.78 0.91q0.74-1.45 1.985-2.48t2.69-1.49 3.050-0.345 3.045 0.845zM9.29 10.71q-0.29-0.29-0.29-0.71 0-0.040 0.020-0.020q-0.13-0.070-0.23-0.15z"}),(0,_screenReaderTextStyle2["default"])())}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=qualityButton;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _screenReaderTextStyle=__webpack_require__(59);var _screenReaderTextStyle2=_interopRequireDefault(_screenReaderTextStyle);function qualityButton(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var setHD=_ref.setHD;var hd=_ref.hd;var hasHD=_ref.hasHD;var enterQualityButton=_ref.enterQualityButton;var leaveQualityButton=_ref.leaveQualityButton;var qualityTooltipText=_ref.qualityTooltipText;if(!hasHD){return false}return(0,_vd2["default"])("button.button.text.hd",{onclick:function onclick(){return setHD(!hd)},classes:{active:hd},onmouseenter:enterQualityButton,onmouseleave:leaveQualityButton},(0,_vd2["default"])("span.aria-hidden","HD"),(0,_vd2["default"])("span.screen-reader-text",qualityTooltipText))}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=playbackSpeedIcon;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _vd3=_interopRequireDefault(_vd);var _screenReaderTextStyle=__webpack_require__(59);var _screenReaderTextStyle2=_interopRequireDefault(_screenReaderTextStyle);function playbackSpeedIcon(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var setPlaybackRate=_ref.setPlaybackRate;var setPlaybackRateControlsShowing=_ref.setPlaybackRateControlsShowing;var playbackRateControlsShowing=_ref.playbackRateControlsShowing;return(0,_vd2["default"])("button.button",{onclick:function onclick(){setPlaybackRateControlsShowing(!playbackRateControlsShowing)}},playbackSpeedSvg(),(0,_vd2["default"])("span.screen-reader-text","playback speed adjustment"))}function playbackSpeedSvg(){var _ref2=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref2$color=_ref2.color;var color=_ref2$color===undefined?"#ffffff":_ref2$color;var _ref2$width=_ref2.width;var width=_ref2$width===undefined?20:_ref2$width;var _ref2$height=_ref2.height;var height=_ref2$height===undefined?20:_ref2$height;return(0,_vd3["default"])("svg",{version:"1.1",encoding:"UTF-8",xmlns:"http://www.w3.org/2000/svg",width:width,height:height,viewBox:"0 0 20 20"},(0,_vd3["default"])("title.screen-reader-text",{text:"Playback Speed"}),(0,_vd3["default"])("path",{fill:color,strokeWidth:"1",fillRule:"nonzero",transform:"scale(0.80)",d:"M12,4 C6.48730229,4 2,8.49988781 2,14.0279719 C2,16.2622035 2.73581657,18.3308589 3.97321429,20 L5.25,18.8628856 C4.28167114,17.5028924 3.71428571,15.8316025 3.71428571,14.0279719 C3.71428571,9.42893617 7.41377771,5.71908041 12,5.71908041 C16.5862223,5.71908041 20.2857143,9.42893617 20.2857143,14.0279719 C20.2857143,15.8316025 19.7183289,17.5028924 18.75,18.8628856 L20.0267857,20 C21.2641834,18.3308589 22,16.2622035 22,14.0279719 C22,8.49988781 17.5126977,4 12,4 Z M15.5714286,10.4017924 L11.6071429,15.2277468 C11.2635803,15.3264507 10.9517286,15.5554322 10.7589286,15.8903091 C10.3644283,16.5755059 10.6024351,17.4555318 11.2857143,17.8511495 C11.9689886,18.2467385 12.8465709,18.0080729 13.2410714,17.3228761 C13.4338709,16.9879992 13.470464,16.6051313 13.3839286,16.25739 L15.5714286,10.4017924 Z"}),(0,_screenReaderTextStyle2["default"])())}module.exports=exports["default"]},function(module,exports,__webpack_require__){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=titlebar;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _iconsLink=__webpack_require__(68);var _iconsLink2=_interopRequireDefault(_iconsLink);var _timeFormat=__webpack_require__(51);var _timeFormat2=_interopRequireDefault(_timeFormat);var _isMobileBrowser=__webpack_require__(69);var _isMobileBrowser2=_interopRequireDefault(_isMobileBrowser);var linkIcon=(0,_iconsLink2["default"])({width:14,height:14});var mobile=(0,_isMobileBrowser2["default"])(navigator.userAgent);var safari=/Safari/.test(navigator.userAgent);var iPad=/iPad/.test(navigator.userAgent);var flex=safari?"-webkit-flex":/MSIE 10/.test(navigator.userAgent)?"-ms-flexbox":"flex";function titlebar(_ref){var _ref$title=_ref.title;var title=_ref$title===undefined?"":_ref$title;var width=_ref.width;var height=_ref.height;var guid=_ref.guid;var at=_ref.at;var url=_ref.url;var urlMP4=_ref.urlMP4;var urlOGG=_ref.urlOGG;var shareAt=_ref.shareAt;var shareLoop=_ref.shareLoop;var shareAutoPlay=_ref.shareAutoPlay;var sharing=_ref.sharing;var _ref$sharable=_ref.sharable;var sharable=_ref$sharable===undefined?true:_ref$sharable;var _ref$permalink=_ref.permalink;var permalink=_ref$permalink===undefined?true:_ref$permalink;var ontoggle=_ref.ontoggle;var onshareopen=_ref.onshareopen;var setShareAt=_ref.setShareAt;var setShareLoop=_ref.setShareLoop;var setShareAutoPlay=_ref.setShareAutoPlay;var href="https://videopress.com/v/"+guid;var qry={};if(shareAt&&at)qry.at=Math.round(at);if(shareLoop)qry.loop=1;if(shareAutoPlay)qry.autoPlay=1;qry=stringify(qry);var shareHref=href+qry;var embedHref="https://videopress.com/embed/"+guid+qry;var minimal=height<265;var showShareLink=!mobile&&!iPad&&sharable&&width>=380;if(!sharing&&!title){return}var div=(0,_vd2["default"])(".titlebar",{style:{width:width+"px"}},(0,_vd2["default"])(".title",(0,_vd2["default"])(".title-left",(0,_vd2["default"])("span.title",{style:{"max-width":width-(showShareLink?100:0)+"px"}},sharable&&permalink?(0,_vd2["default"])("button.share",{onclick:onshareopen},title&&(0,_vd2["default"])("span",title),linkIcon):(0,_vd2["default"])("span",title))),(0,_vd2["default"])(".title-right",sharable&&showShareLink&&(0,_vd2["default"])("button.text.toggle",{onclick:ontoggle,classes:{sharing:sharing}},"Share"))),sharing&&(0,_vd2["default"])(".share",{classes:{minimal:minimal}},(0,_vd2["default"])(".share-inner",!minimal&&(0,_vd2["default"])(".options",(0,_vd2["default"])("span.title","Sharing options"),(0,_vd2["default"])("label",(0,_vd2["default"])("input type=checkbox",{checked:true===shareAt,onclick:function onclick(e){return setShareAt(e.target.checked)}}),(0,_vd2["default"])("span","Start at: "+(0,_timeFormat2["default"])(at))),(0,_vd2["default"])("label",(0,_vd2["default"])("input type=checkbox",{checked:true===shareLoop,onclick:function onclick(e){return setShareLoop(e.target.checked)}}),(0,_vd2["default"])("span","Loop")),(0,_vd2["default"])("label",(0,_vd2["default"])("input type=checkbox",{checked:true===shareAutoPlay,onclick:function onclick(e){return setShareAutoPlay(e.target.checked)}}),(0,_vd2["default"])("span","Autoplay"))),(0,_vd2["default"])(".share-title","Permalink"),(0,_vd2["default"])(".share-permalink",(0,_vd2["default"])(".pre-wrap",{onclick:copy},(0,_vd2["default"])(".pre",shareHref))),(0,_vd2["default"])(".share-title","Embed (HTML)"),(0,_vd2["default"])(".pre-wrap",{onclick:copy},(0,_vd2["default"])(".pre",'<iframe width="560" height="315" src="'+embedHref+'" frameborder="0" allowfullscreen></iframe>\n','<script src="https://videopress.com/videopress-iframe.js"></script>')),(0,_vd2["default"])(".share-title.download","Download"),(0,_vd2["default"])(".links",dl(url,minimal?"Original":"Original file"),dl(urlMP4,minimal?"MP4":"H.264 (MP4)"),urlOGG&&dl(urlOGG,minimal?"OGG":"THEORA (OGG)")))),style());return div}var css=undefined;function style(){if(css)return css;css=_vd2["default"].style();css.add(".titlebar",{position:"relative","font-size":"12px"});css.add("div.title",{background:"rgba(0,0,0,.8)",height:"32px",padding:"0 14px"});css.add("span.title",{color:"#fff",display:"inline-block",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"});css.add("span.title button",{background:"transparent","text-decoration":"none","padding-right":"5px",color:"#fff","line-height":"14px",position:"inherit",display:"inline-block",cursor:"pointer",top:"inherit",width:"inherit",height:"inherit","animation-fill-mode":"none","-webkit-animation-fill-mode":"none","-webkit-animation":"none",animation:"none"});css.add("span.title button span",{"padding-right":"5px"});css.add("span.title button svg",{"vertical-align":"middle",position:"relative",top:"-1px"});css.add("span.title button:hover, span.title button:focus",{color:"rgb(0, 170, 220)"});css.add("span.title button:hover path, span.title button:focus path",{fill:"rgb(0, 170, 220)"});css.add(".title-left span",{"user-select":"text","-webkit-user-select":"text","-ms-user-select":"text","-moz-user-select":"text"});css.add(".title-left, .title-right",{display:flex,"align-items":"center","-webkit-align-items":"center","-ms-flex-align":"center",height:"32px"});css.add(".title-left",{"float":"left"});css.add(".title-right",{"float":"right"});css.add(".text",{"letter-spacing":"-0.5px"});css.add(".toggle",{cursor:"pointer",display:"inline-block","text-transform":"uppercase","font-size":"10px",color:"#ccc","text-shadow":"0 1px 0 #000","user-select":"none","font-weight":"bold"});css.add("button",{border:"none","background-color":"transparent"});css.add("button:focus",{outline:"none"});css.add(".toggle:hover, .toggle:focus",{color:"rgb(0, 170, 220)"});css.add(".toggle.sharing",{color:"#fff"});css.add(".share",{position:"absolute",top:"32px",width:"100%",animation:"reveal 300ms ease-out 1","-webkit-animation":"reveal 300ms ease-out 1","animation-fill-mode":"both","-webkit-animation-fill-mode":"both",height:"0",overflow:"hidden",background:"rgba(0,0,0,.8)","z-index":100});css.add(".share.minimal",{animation:"reveal-minimal 300ms ease-out 1","-webkit-animation":"reveal-minimal 300ms ease-out 1","animation-fill-mode":"both","-webkit-animation-fill-mode":"both"});css.add(".share .options",{"margin-bottom":"10px"});css.add(".share .options span.title",{"text-transform":"uppercase",color:"#999","line-height":"18px","vertical-align":"top"});css.add(".share .options label",{color:"#fff","padding-left":"15px","vertical-align":"top"});css.add(".share-inner",{height:"155px","font-size":"10px",padding:"0px 14px 10px","box-sizing":"border-box"});css.anim("reveal",{from:{height:"0"},to:{height:"200px"}});css.anim("reveal-minimal",{from:{height:"0"},to:{height:"150px"}});css.add(".pre-wrap",{position:"relative",background:"#9B9B9B",color:"#000",padding:"8px",margin:"0 0 15px",cursor:"text"});css.add(".pre-wrap.copied",{animation:"flash 1000ms ease-out 1","-webkit-animation":"flash 1000ms ease-out 1"});css.add(".pre-wrap.copied:after",{position:"absolute",content:'"Copied to clipboard!"',display:"block",top:"-22px",right:"0px",background:"#eee","text-transform":"uppercase","font-weight":"bold",opacity:0,animation:"flash-text 1000ms ease-out 1","-webkit-animation":"flash-text 1000ms ease-out 1"});css.anim("flash",{0:{background:"#9B9B9B"},"50%":{background:"#fff"},"100%":{background:"#9B9B9B"}});css.anim("flash-text",{0:{opacity:0},"50%":{opacity:1},"100%":{opacity:0}});css.add(".pre",{font:"10px Monaco, Menlo, Lucida Console",color:"#000",overflow:"hidden","white-space":"pre",margin:0,"user-select":"text","-webkit-user-select":"text","-ms-user-select":"text","-moz-user-select":"text"});css.add(".share-permalink .pre-wrap",{display:"inline-block"});css.add(".minimal .share-title",{margin:"0 0 5px"});css.add(".minimal .pre-wrap",{padding:"5px","margin-bottom":"15px"});css.add(".share-title",{color:"#fff","text-transform":"uppercase",cursor:"default","user-select":"none","-webkit-user-select":"none","-moz-user-select":"none",margin:"0 0 10px"});css.add(".download, .share .links",{display:"inline-block"});css.add(".share .links a",{"text-decoration":"none",color:"#d8d8d8","text-transform":"uppercase","margin-left":"30px"});css.add(".share.minimal .links a",{"margin-left":"15px"});css.add(".share .links a:hover, .share .links a:focus",{color:"rgb(0, 170, 220)"});return css}function copy(ev){try{(function(){var el=ev.target;var pr=el.className.match(/(.+)pre-wrap/)[1];var className=pr+"copied";clearTimeout(el._copyTimeout);el.classList.remove(className);var range=document.createRange();var pre=el.childNodes[0];range.selectNode(pre);window.getSelection().addRange(range);if(document.execCommand("copy")){window.getSelection().removeAllRanges();var div=document.createElement("div");el.classList.add(className);el._copyTimeout=setTimeout(function(){try{el.classList.remove(className)}catch(e){if(global.console)console.error(e)}},1e3)}})()}catch(e){if(global.console)console.error(e)}}function dl(url,title){if(!url)return;return(0,_vd2["default"])("a",{href:url,download:url.split("/").pop(),target:"_blank",title:"Download "+title+" for this video.",text:title})}function stringify(obj){var str="";for(var i in obj){if(str.length)str+="&";str+=i+"="+encodeURIComponent(obj[i])}return str.length?"?"+str:""}module.exports=exports["default"]}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=link;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _screenReaderTextStyle=__webpack_require__(59);var _screenReaderTextStyle2=_interopRequireDefault(_screenReaderTextStyle);function link(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref$color=_ref.color;var color=_ref$color===undefined?"#ffffff":_ref$color;var _ref$width=_ref.width;var width=_ref$width===undefined?20:_ref$width;var _ref$height=_ref.height;var height=_ref$height===undefined?20:_ref$height;return(0,_vd2["default"])("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:width,height:height,viewBox:"0 0 20 20"},(0,_vd2["default"])("title.screen-reader-text",{text:"Get Link to Video"}),(0,_vd2["default"])("path",{fill:color,d:"M17.74 2.76q1.26 1.27 1.26 3.050t-1.26 3.050l-1.53 1.52q-0.82 0.82-1.95 1.105t-2.19-0.015l2.62-2.61 0.76-0.77 0.76-0.76q0.63-0.63 0.63-1.52t-0.63-1.52q-0.63-0.64-1.52-0.64t-1.52 0.64l-0.77 0.76-3.38 3.38q-0.29-1.060-0.005-2.19t1.105-1.95l1.52-1.53q1.27-1.26 3.055-1.26t3.045 1.26zM8.59 13.43l5.34-5.34q0.31-0.31 0.31-0.76t-0.31-0.76q-0.34-0.32-0.78-0.31t-0.75 0.31l-5.33 5.34q-0.31 0.31-0.31 0.76t0.31 0.76q0.34 0.32 0.78 0.31t0.74-0.31zM7.83 15.72l4.14-4.15q0.3 1.060 0.015 2.19t-1.105 1.95l-1.52 1.53q-1.27 1.26-3.050 1.26t-3.050-1.26q-1.26-1.26-1.26-3.050t1.26-3.050l1.53-1.52q0.82-0.82 1.95-1.105t2.19 0.005l-4.14 4.15q-0.64 0.63-0.64 1.52t0.64 1.53q0.63 0.63 1.52 0.63t1.52-0.63z"}),(0,_screenReaderTextStyle2["default"])())}module.exports=exports["default"]},function(module,exports){module.exports=isMobileUser;function isMobileUser(useragent){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(useragent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(useragent.substr(0,4))){return true}return false}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=playShim;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _iconsPlay=__webpack_require__(58);var _iconsPlay2=_interopRequireDefault(_iconsPlay);var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);function playShim(_ref){var height=_ref.height;var width=_ref.width;var hovered=_ref.hovered;var playSize=Math.min(height/3|0,130);return(0,_vd2["default"])(".play-shim",{style:{height:height+"px",width:width+"px","max-height":"100%","max-width":"100%"}},(0,_vd2["default"])(".play-shim-bg",{classes:{hovered:hovered},style:{height:height+"px",width:width+"px","max-height":"100%","max-width":"100%"}}),(0,_vd2["default"])(".play-shim-icon",{style:{top:0,left:0,bottom:0,right:0}},(0,_iconsPlay2["default"])({width:playSize,height:playSize})),style())}var css=undefined;function style(){if(css)return css;css=_vd2["default"].style();css.add(".play-shim",{position:"relative"});css.add(".play-shim-bg",{background:"-webkit-radial-gradient(center, ellipse cover, rgba(255,255,255,0.34) 0%, rgba(0,0,0,0.34) 0%, rgba(0,0,0,.6) 100%)",width:"100%",position:"absolute",transition:"opacity 300ms ease-out"});css.add(".play-shim-bg",{background:"radial-gradient(ellipse at center, rgba(255,255,255,0.34) 0%, rgba(0,0,0,0.34) 0%, rgba(0,0,0,.6) 100%)"});css.add(".play-shim-bg.hovered",{opacity:"0.8"});css.add(".play-shim-icon",{position:"absolute",left:0,width:"100%"});css.add(".play-shim-icon svg",{display:"block",margin:"auto",height:"100%"});return css}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=animationEnd;function animationEnd(el,fn){el.addEventListener("animationEnd",done,false);el.addEventListener("webkitAnimationEnd",done,false);function done(){el.removeEventListener("animationEnd",done,false);el.removeEventListener("webkitAnimationEnd",done,false);fn()}}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=videoElement;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);function videoElement(){var props=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var iOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);var safari=/Safari/i.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);props.onattrset=set;props.onattradd=set;props.onattrdel=del;var subtracks=props.subtracks;if(subtracks.length){props.crossorigin="anonymous"}return(0,_vd2["default"])("video",props,subtracks.length&&subtracks.map(function(subtrack){return(0,_vd2["default"])("track",{src:subtrack.src,srclang:subtrack.code,label:subtrack.label,kind:"subtitles"})}))}function set(el,key,val,fn){if("src"==key){(function(){var play=function play(){seekTo(el,time);if(wasPlaying)el.play()};var wasPlaying=!el.paused;var time=el.currentTime;el.src=val;if(wasPlaying&&/8\.0\.. Safari/.test(navigator.userAgent)){setTimeout(play,0)}else{play()}})()}else if("playing"==key){if(val){}else{}}else if("currentTime"==key){seekTo(el,val)}else if("volume"==key){el.volume=val}else if("playbackRate"==key){setTimeout(function(){el.playbackRate=val},0)}else if("subtitle"==key){setTimeout(function(){changeTrack(el,val.code)},0)}else{fn()}}var ua=navigator.userAgent;var safari=/Safari/.test(ua)&&!/Chrome/.test(ua);function seekTo(el,time){if(safari&&el.readyState<1){defer()}else{try{el.currentTime=time}catch(e){defer()}}function defer(){if(null==el.__willSeekTo){(function(){el.load();var seek=function seek(){el.currentTime=el.__willSeekTo;el.removeEventListener("loadedmetadata",seek,true);delete el.__willSeekTo};el.addEventListener("loadedmetadata",seek,true)})()}el.__willSeekTo=time}}function del(el,key,fn){if("playing"==key){el.pause()}else if("volume"==key){el.volume=0}else if("subtitle"==key){changeTrack(el,null);fn()}else{fn()}}function changeTrack(el,code){for(var i=0;i<el.textTracks.length;i++){el.textTracks[i].mode=el.textTracks[i].language==code?"showing":"hidden"}}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _card=__webpack_require__(74);var _card2=_interopRequireDefault(_card);var _iconsPlay=__webpack_require__(58);var _iconsPlay2=_interopRequireDefault(_iconsPlay);exports["default"]=(0,_card2["default"])(_iconsPlay2["default"]);module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=card;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var safari=/Safari/.test(navigator.userAgent);var flex=safari?"-webkit-flex":/MSIE 10/.test(navigator.userAgent)?"-ms-flexbox":"flex";function card(icon){return function(){var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var still=_ref.still;var css=_vd2["default"].style();var div=(0,_vd2["default"])(".card",icon({width:80,height:80}),css);css.add(".card",{width:"120px",height:"120px",background:"rgba(0,0,0,.6)","border-radius":"10px",display:flex,"align-items":"center","-webkit-align-items":"center","-ms-flex-align":"center","justify-content":"center","-webkit-justify-content":"center","-ms-flex-pack":"center"});if(!still){css.add(".card",{opacity:0,animation:"expand 600ms ease-in-out 0s 1","-webkit-animation":"expand 600ms ease-in-out 0s 1","animation-fill-mode":"forward","-webkit-animation-fill-mode":"forward"});css.anim("expand",{from:{transform:"scale(.3)","-webkit-transform":"scale(.3)",opacity:.8},to:{transform:"scale(1)","-webkit-transform":"scale(1)",opacity:0}})}return div}}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _card=__webpack_require__(74);var _card2=_interopRequireDefault(_card);var _iconsPause=__webpack_require__(60);var _iconsPause2=_interopRequireDefault(_iconsPause);exports["default"]=(0,_card2["default"])(_iconsPause2["default"]);module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=error;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);function error(_ref){var msg=_ref.msg;var code=_ref.code;var width=_ref.width;var height=_ref.height;var url="https://videopress.com/help/"+(code?code:"");var css=_vd2["default"].style();var div=(0,_vd2["default"])(".error",[(0,_vd2["default"])(".wrap",[(0,_vd2["default"])("span",msg+".")," ",(0,_vd2["default"])("a target=_blank",{href:url},"Learn more")]),css]);css.add(".error",{width:width+"px",height:height+"px",background:"#000"});css.add(".wrap",{"line-height":height+"px","vertical-align":"middle","font-size":"15px",color:"#D0021B","text-align":"center"});css.add(".wrap a",{color:"#D0021B"});return div}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=ageGate;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);var _spinner=__webpack_require__(57);var _spinner2=_interopRequireDefault(_spinner);var _errorMessage=__webpack_require__(78);var _errorMessage2=_interopRequireDefault(_errorMessage);function ageGate(_ref){var code=_ref.code;var state=_ref.state;var width=_ref.width;var height=_ref.height;var setBirthDate=_ref.setBirthDate;var css=_vd2["default"].style();var wrap=(0,_vd2["default"])(".wrap",[(0,_vd2["default"])(".p","This video might display mature content")]);var div=(0,_vd2["default"])(".age-gate",[wrap,css]);if("loading"==state){wrap.add((0,_vd2["default"])("div",{style:{width:"40px",margin:"auto"}},(0,_spinner2["default"])({width:40})))}if("denied"==state){wrap.add((0,_vd2["default"])(".p.error","Content Unavailable"))}if("error"==state){wrap.add((0,_vd2["default"])(".p.error","Error occurred"))}if(!state){var submit=function submit(e){e.preventDefault();var el=e.target;var val=function val(n){return el.querySelector("input[name="+n+"]").value};setBirthDate(val("mm"),val("dd"),val("yyyy"))};wrap.add((0,_vd2["default"])(".p","Please enter your birth date"),(0,_vd2["default"])("form",{onsubmit:submit},[(0,_vd2["default"])("input.mm autocomplete=off name=mm type=text maxlength=2 placeholder=MM pattern=[0-9]+"),(0,_vd2["default"])("input.dd autocomplete=off name=dd type=text maxlength=2 placeholder=DD pattern=[0-9]+"),(0,_vd2["default"])("input.yyyy autocomplete=off name=yyyy type=text maxlength=4 placeholder=YYYY pattern=[0-9][0-9][0-9][0-9]"),(0,_vd2["default"])("button","Go")]))}css.add(".age-gate",{width:width+"px",height:height+"px",background:"#000",position:"relative","font-family":"Helvetica"});css.add(".wrap",{height:"125px",top:"50%",width:"100%","text-align":"center",position:"absolute","margin-top":"-60px"});css.add(".p",{"font-size":"15px",margin:"10px 0"});css.add(".p:first-child",{color:"#fff"});css.add(".p:nth-child(2)",{color:"#9B9B9B","margin-bottom":"30px"});css.add(".p.error",{color:"#D0021B"});css.add(".age-gate input",{color:"#fff","font-size":"13px","border-width":"0",width:"43px",margin:"0 5px",padding:"2px 2px 4px","border-bottom":"1px solid #979797",background:"none","-webkit-appearance":"none","text-align":"center"});css.add(".age-gate input:invalid",{color:"red","border-color":"red"});css.add(".age-gate button",{background:"#666",color:"#eee",padding:"6px 12px 7px","font-weight":"bold","text-transform":"uppercase","margin-left":"6px",border:"none",cursor:"pointer"});css.add(".age-gate button:hover",{outline:"none",background:"#888"});css.add(".age-gate form",{margin:0,padding:0});css.add("input.mm, input.dd",{width:"33px"});placeholder(css,".age-gate input",{color:"#9B9B9B",transition:"color 100ms ease-in"});placeholder(css,".age-gate input:focus",{color:"#ccc"});css.add(".age-gate input:focus",{outline:"none"});return div}var prefixes=[":-webkit-input","-moz",":-moz","-ms-input"];function placeholder(css,sel,props){prefixes.forEach(function(prefix){css.add(sel+":"+prefix+"-placeholder",props)})}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var httpStatusCodeMessages={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Server Error"};exports["default"]=function(state){if(state.conversionFailed()){return"Conversion Error";}var code=state.errorCode();var status=state.errorStatus();var maybeErrorMessage=state.errorMessage();if("unknown_media"===code){return"Not Found"}if(maybeErrorMessage){return maybeErrorMessage}if(undefined!==httpStatusCodeMessages[status]){return httpStatusCodeMessages[status]}return"Unknown Error"};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=loading;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);function loading(_ref){var width=_ref.width;var height=_ref.height;var div=(0,_vd2["default"])(".loading",{style:{width:width+"px",height:height+"px"}},(0,_vd2["default"])("p",{style:{"line-height":height+"px"}},"Loading"),style());return div}var css=undefined;function style(){if(css)return css;css=_vd2["default"].style();css.add(".loading",{"text-align":"center","background-color":"#000","font-size":"13px",animation:"appear 300ms ease-in-out 1","-webkit-animation":"appear 300ms ease-in-out 1","animation-fill-mode":"forwards","-webkit-animation-fill-mode":"forwards","animation-delay":"300ms","-webkit-animation-delay":"300ms"});css.add(".loading p",{"vertical-align":"middle",margin:0});css.anim("appear",{from:{color:"#000"},to:{color:"#666"}});return css}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=converting;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _vd=__webpack_require__(31);var _vd2=_interopRequireDefault(_vd);function converting(_ref){var _ref$title=_ref.title;var title=_ref$title===undefined?"Untitled":_ref$title;var width=_ref.width;var height=_ref.height;var bgurl=_ref.bgurl;var progress=_ref.progress;var css=_vd2["default"].style();var div=(0,_vd2["default"])(".converting",(0,_vd2["default"])(".title",(0,_vd2["default"])(".conversion",(0,_vd2["default"])("span.text",progress===100?"Conversion complete!":"\n          Please wait.\n          We are converting this video\n        ")," ",progress&&(0,_vd2["default"])("span.progress","("+progress+"%)")),title&&(0,_vd2["default"])("span",title),progress&&(0,_vd2["default"])(".title-bar",{style:{width:progress+"%"}})),css);css.add(".converting",{width:width+"px",height:height+"px","background-color":"#000","font-family":"Helvetica Neue, Helvetica, Arial"});if(bgurl){div.add((0,_vd2["default"])(".bg"));css.add(".converting",{position:"relative",overflow:"hidden","z-index":-2});css.add(".bg",{position:"absolute",top:"-50px",left:"-50px",right:"-50px",bottom:"-50px","background-image":"url("+bgurl+")","background-size":"cover",filter:"blur(15px)","-webkit-filter":"blur(15px)","z-index":-1})}css.add(".title",{height:"32px","line-height":"32px","vertical-align":"middle","font-size":"12px",padding:"0 14px",background:"rgba(0,0,0,.7)",position:"relative"});css.add(".title-bar",{display:"block",content:'" "',position:"absolute",left:0,bottom:"-2px","border-bottom":"2px solid rgba(255,255,255,.7)","box-shadow":"0 0 3px rgba(0,0,0,.7)",transition:"width 100ms ease-out"});{var mw=width-(width<=450?120:250);css.add(".title span",{color:"#fff",display:"inline-block","max-width":mw+"px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"})}css.add(".conversion",{"float":"right","font-size":"10px","font-family":"Helvetica, Arial"});css.add(".conversion span",{color:"rgba(255,255,255,.68)"});if(width<=450){css.add(".conversion .text",{display:"none"});css.add(".conversion .progress:before",{display:"inline",content:'"Converting "'})}return div}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=selectView;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _errorMessage=__webpack_require__(78);var _errorMessage2=_interopRequireDefault(_errorMessage);function selectView(st){var view=undefined;var data={};var width=st.width();var height=st.height();if("loaded"==st.state()){if(st.converting()){view="converting";data={width:width,height:height,title:st.title(),progress:st.progress(),bgurl:st.poster()}}else{view="video";var toolbar={width:width,height:height,at:st.at(),fs:st.fs(),hd:st.hd(),hasHD:st.hasHD(),ended:st.ended(),playing:st._seekPlaying||st.playing(),loaded:st.loaded(),volume:st.volume(),volumeShown:st.volumeShown(),zoomed:st.toolbarZoomed(),total:st.duration(),thumb:null!=st.thumbAt()?st.thumb():null,thumbAt:st.thumbAt(),hoverVolume:st.hoverVolume,blurVolume:st.blurVolume,volumeChanging:st.volumeChanging(),retainHoverVolume:st.retainHoverVolume,toggleVolume:st.toggleVolume,togglePlay:function togglePlay(){return st.togglePlay(false)},subs:st.subs(),subsShowing:st.subsShowing(),setVolume:st.setVolume,setVolumeChanging:st.setVolumeChanging,toggleFullScreen:st.toggleFullScreen,seek:st.seek,setHD:st.setHD,setSeekDragging:st.setSeekDragging,seekHover:st.seekHover,seekBlur:st.seekBlur,toolbarHover:st.toolbarHover,toolbarBlur:st.toolbarBlur,setSubsShowing:st.setSubsShowing,playbackRate:st.playbackRate(),setPlaybackRate:st.playbackRate.bind(st),setPlaybackRateControlsShowing:st.playbackRateControlsShowing.bind(st),playbackRateControlsShowing:st.playbackRateControlsShowing(),qualityTooltipShown:st.qualityTooltipShown(),qualityText:st.qualityText(),oppositeQualityText:st.oppositeQualityText(),qualityTooltipText:st.qualityTooltipText(),enterQualityButton:st.enterQualityButton,leaveQualityButton:st.leaveQualityButton,fullscreenTooltipShown:st.fullscreenTooltipShown(),showFullscreenTooltip:st.showFullscreenTooltip,hideFullscreenTooltip:st.hideFullscreenTooltip,fullscreenTooltipText:st.fullscreenTooltipText()};var titlebar={at:st.at(),width:width,height:height,title:st.title(),url:st.original(),urlMP4:st.mp4(),urlOGG:st.ogg(),guid:st.id(),sharing:st.sharing(),sharable:st.sharable(),shareAt:st.shareAt(),shareLoop:st.shareLoop(),shareAutoPlay:st.shareAutoPlay(),permalink:st.permalink(),ontoggle:st.toggleSharing,onshareopen:st.clickShareLink,setShareAt:st.setShareAt,setShareLoop:st.setShareLoop,setShareAutoPlay:st.setShareAutoPlay};data={width:width,height:height,titlebar:titlebar,toolbar:toolbar,at:st.at(),fs:st.fs(),seekDragging:st.seekDragging(),seekAt:st.seekAt(),src:st.src(),loop:st.loop(),poster:st.poster(),volume:st.volume(),hovered:st.hovered(),ended:st.ended(),playing:st.videoPlaying(),waiting:st.waiting(),togglePlay:st.togglePlay,shimShowing:st.shimShowing(),posterShowing:st.posterShowing(),floatingBars:st.floatingBars(),toolbarShowing:st.toolbarShowing(),titlebarShowing:st.titlebarShowing(),spinnerShowing:st.spinnerShowing(),subActiveURL:st.subActiveURL(),subTracks:st.subTracks(),subDefaultCode:st.defaultLangCode(),card:st.card(),move:st.move,hover:st.hover,blur:st.blur,setAt:st.setAt,setLoaded:st.setLoaded,setWaiting:st.setWaiting,setSeeking:st.setSeeking,setPlaying:st.setPlaying,setDuration:st.setDuration,setError:st.setVideoError,videoId:st.videoId(),muted:st.muted(),autoplay:st.autoPlay(),changeVolume:st.changeVolume,preload:st.preload(),playbackRate:st.playbackRate(),setPlaybackRate:st.playbackRate.bind(st),setPlaybackRateControlsShowing:st.playbackRateControlsShowing.bind(st),playbackRateControlsShowing:st.playbackRateControlsShowing()}}}if(st.ageGated()){view="age-gate";data={width:width,height:height,state:st.ageGateState(),setBirthDate:st.setBirthDate}}else{if("error"==st.state()){view="error";data={width:width,height:height,code:st.errorCode(),msg:(0,_errorMessage2["default"])(st)}}if("loading"==st.state()){view="loading";data={width:width,height:height}}}return{view:view,data:data,width:width,height:height}}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=fullScreen;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _requestFullScreen=__webpack_require__(83);var _requestFullScreen2=_interopRequireDefault(_requestFullScreen);var _exitFullScreen=__webpack_require__(84);var _exitFullScreen2=_interopRequireDefault(_exitFullScreen);var _isFullScreen=__webpack_require__(85);var _isFullScreen2=_interopRequireDefault(_isFullScreen);var _onFullScreen=__webpack_require__(86);var _onFullScreen2=_interopRequireDefault(_onFullScreen);function fullScreen(el,state){var _this=this;var on=undefined;var summoned=undefined;state.on("change fs",function(v){if(v){if(!(0,_isFullScreen2["default"])()){summoned=true;w=state.width();h=state.height();(0,_requestFullScreen2["default"])(el)}}else if((0,_isFullScreen2["default"])()){(0,_exitFullScreen2["default"])()}});var w=undefined,h=undefined;var cancel=(0,_onFullScreen2["default"])(function(ev){if(summoned){on=!on;if(on){state.width(window.screen.width);state.height(window.screen.height)}else{state.fs(false);state.width(w);state.height(h);setTimeout(function(w,h){state.width(w);state.height(h)}.bind(_this,w,h),0);summoned=w=h=on=null}}});return function(){if(state.fs()&&(0,_isFullScreen2["default"])())(0,_exitFullScreen2["default"])();cancel()}}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=setFullScreen;function setFullScreen(el){if(el.requestFullscreen){el.requestFullscreen()}else if(el.msRequestFullscreen){el.msRequestFullscreen()}else if(el.mozRequestFullScreen){el.mozRequestFullScreen()}else if(el.webkitRequestFullscreen){el.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=exitFullScreen;function exitFullScreen(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=isFullScreen;function isFullScreen(){return document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement!=null}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=fullScreenChange;var evs=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"];function fullScreenChange(fn){evs.forEach(function(e){return document.addEventListener(e,fn,false)});return function(){evs.forEach(function(e2){return document.removeEventListener(e2,fn,false)})}}module.exports=exports["default"]},function(module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=storeVolume;function storeVolume(state){var persistedVolume=volume();if(isFinite(persistedVolume))state.volume(persistedVolume);state.on("change volume",volume)}function volume(v){if(arguments.length){try{localStorage.volume=v}catch(e){if(global.console)console.error(e)}}else{try{if(global.localStorage&&"volume"in localStorage){return Number(localStorage.volume)}}catch(e){if(global.console)console.error(e)}}}module.exports=exports["default"]}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=autoresize;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _rafDebounce=__webpack_require__(25);var _rafDebounce2=_interopRequireDefault(_rafDebounce);function autoresize(el,state){var width=state.width();var resize=function resize(){if(!state.fs()){state.setWidthConstrain(Math.min(el.offsetWidth,width))}};var _debounce=(0,_rafDebounce2["default"])(resize);var onresize=_debounce.fn;var cancel=_debounce.cancel;resize();window.addEventListener("resize",onresize,false);return function(){cancel();window.removeEventListener("resize",onresize,false)}}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=keyboard;function keyboard(el,state){var focused=false;var focus=function focus(){return focused=true};var blur=function blur(){return focused=false};el=el.childNodes[0];el.addEventListener("click",focus,true);document.addEventListener("click",blur,true);document.addEventListener("keydown",key,true);function key(e){if(!focused||e.metaKey||e.ctrlKey||e.altKey)return;if(32===e.keyCode)state.togglePlay();else if(37===e.keyCode)state.back();else if(39===e.keyCode)state.forward();else if(70===e.keyCode)state.toggleFullScreen();else if(77===e.keyCode)state.toggleVolume();else return;e.preventDefault()}return function(){document.removeEventListener("keydown",key,true);el.removeEventListener("click",focus,true);document.removeEventListener("click",blur,true)}}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=autoplay;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _rafDebounce=__webpack_require__(25);var _rafDebounce2=_interopRequireDefault(_rafDebounce);var supportsVisibility="boolean"==typeof isPageVisible();function autoplay(el,state){var _ref=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];var _ref$onScroll=_ref.onScroll;var onScroll=_ref$onScroll===undefined?false:_ref$onScroll;var play=function play(){state.play({hover:false})};var pause=function pause(){state.pause();state.setWaiting(false)};var isVisible=function isVisible(){if(supportsVisibility&&!isPageVisible())return false;var rect=el.children[0].getBoundingClientRect();var height=window.innerHeight||document.documentElement.clientHeight;var width=window.innerWidth||document.documentElement.clientWidth;return rect.top>=0&&rect.left>=0&&rect.bottom<=height&&rect.right<=width};var cleanupSetup=undefined;var setup=function setup(){if(isVisible()){return}pause();var checkPlay=function checkPlay(){if(isVisible()){play();cleanupSetup()}};var _debounce=(0,_rafDebounce2["default"])(checkPlay);var onscroll=_debounce.fn;var cancel=_debounce.cancel;cleanupSetup=function(){cancel();window.removeEventListener("scroll",onscroll);window.removeEventListener("resize",onscroll);document.removeEventListener("msvisibilitychange",checkPlay);document.removeEventListener("mozvisibilitychange",checkPlay);document.removeEventListener("webkitvisibilitychange",checkPlay)};window.addEventListener("scroll",onscroll);window.addEventListener("resize",onscroll);document.addEventListener("msvisibilitychange",checkPlay);document.addEventListener("mozvisibilitychange",checkPlay);document.addEventListener("webkitvisibilitychange",checkPlay)};function checkSetup(){if("loaded"==state.state()){setup()}else if(cleanupSetup){cleanupSetup()}}function cleanup(){state.removeListener("change state",checkSetup);if(cleanupSetup)cleanupSetup()}if(onScroll)checkSetup();state.on("change state",checkSetup);return cleanup}function isPageVisible(){if(null==document.msHidden&&null==document.webkitHidden&&null==document.mozHidden&&null==document.msHidden)return;return false===document.webkitHidden||false===document.msHidden||false===document.mozHidden||false===document.msHidden}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=preloadGrids;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _thumbUrl=__webpack_require__(19);var _thumbUrl2=_interopRequireDefault(_thumbUrl);function preloadGrids(state){var imgs=[];var onchange=function onchange(d){if("loaded"==d&&state.duration()){imgs.forEach(function(img){return img.src=""});var id=state.id();var dur=state.duration();var max=state.thumbGridMax();var cnt=Math.ceil(dur/10/max)*max;var inv=Math.max(1,Math.floor(dur/cnt));var every=max*inv;var w=state.thumbWidth();var h=state.thumbHeight();var _d=state.birthDate();var s=0;var urls=[];while(s<dur){urls.push((0,_thumbUrl2["default"])(id,s,max,inv,w,h,_d));s+=inv*max}imgs=urls.reverse().map(function(url){var img=new Image;img.src=url;return img})}};state.on("change state",onchange);return function(){imgs.forEach(function(img){return img.src=""});state.removeListener("change state",onchange)}}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=report;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _superagent=__webpack_require__(13);var _superagent2=_interopRequireDefault(_superagent);var URL="https://pixel.wp.com/v.gif";function report(state){var beatTimer=undefined;var beating=false;state.on("change state",function(v){if("loaded"==state.state())impression()});state.on("change playing",function(v){if(v){play();beating=true;beatTimer=setTimeout(beat,1e4)}else{cancelBeat()}});state.on("change hd",impression);function format(){return state.hd()?"fmt_dvd":"fmt_std"}function url(){return URL+"?v=wpcomv&sid=0&site=default"+"&blog="+state.data().blog_id+"&post="+state.data().post_id+"&video_fmt="+format()+"&page_url="+encodeURIComponent(window.location.href)+"&rand="+Math.random().toString(36).substr(7)}var impRequest=undefined;function impression(){impRequest=new Image;impRequest.src=url()+"&video_impression=1"}var playRequest=undefined;function play(){playRequest=new Image;playRequest.src=url()+"&video_play=1"}var beatRequest=undefined;function beat(){beatRequest=new Image;beatRequest.src=url()+"&t=10";beatRequest.onload=function(){if(beating){beatTimer=setTimeout(beat,1e4)}}}function cancelBeat(){if(beating){beating=false;if(beatRequest)beatRequest.src="";clearTimeout(beatTimer)}}return function(){if(impRequest)impRequest.src="";if(playRequest)playRequest.src="";cancelBeat()}}module.exports=exports["default"]},function(module,exports,__webpack_require__){var require;(function(process,global){(function(global,factory){true?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.ES6Promise=factory()})(this,function(){"use strict";function objectOrFunction(x){var type=typeof x;return x!==null&&(type==="object"||type==="function")}function isFunction(x){return typeof x==="function"}var _isArray=undefined;if(Array.isArray){_isArray=Array.isArray}else{_isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}}var isArray=_isArray;var len=0;var vertxNext=undefined;var customSchedulerFn=undefined;var asap=function asap(callback,arg){queue[len]=callback;queue[len+1]=arg;len+=2;if(len===2){if(customSchedulerFn){customSchedulerFn(flush)}else{scheduleFlush()}}};function setScheduler(scheduleFn){customSchedulerFn=scheduleFn}function setAsap(asapFn){asap=asapFn}var browserWindow=typeof window!=="undefined"?window:undefined;var browserGlobal=browserWindow||{};var BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver;var isNode=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var isWorker=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function useNextTick(){return function(){return process.nextTick(flush)}}function useVertxTimer(){if(typeof vertxNext!=="undefined"){return function(){vertxNext(flush)}}return useSetTimeout()}function useMutationObserver(){var iterations=0;var observer=new BrowserMutationObserver(flush);var node=document.createTextNode("");observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2}}function useMessageChannel(){var channel=new MessageChannel;channel.port1.onmessage=flush;return function(){return channel.port2.postMessage(0)}}function useSetTimeout(){var globalSetTimeout=setTimeout;return function(){return globalSetTimeout(flush,1)}}var queue=new Array(1e3);function flush(){for(var i=0;i<len;i+=2){var callback=queue[i];var arg=queue[i+1];callback(arg);queue[i]=undefined;queue[i+1]=undefined}len=0}function attemptVertx(){try{var r=require;var vertx=__webpack_require__(94);vertxNext=vertx.runOnLoop||vertx.runOnContext;return useVertxTimer()}catch(e){return useSetTimeout()}}var scheduleFlush=undefined;if(isNode){scheduleFlush=useNextTick()}else if(BrowserMutationObserver){scheduleFlush=useMutationObserver()}else if(isWorker){scheduleFlush=useMessageChannel()}else if(browserWindow===undefined&&"function"==="function"){scheduleFlush=attemptVertx()}else{scheduleFlush=useSetTimeout()}function then(onFulfillment,onRejection){var _arguments=arguments;var parent=this;var child=new this.constructor(noop);if(child[PROMISE_ID]===undefined){makePromise(child)}var _state=parent._state;if(_state){(function(){var callback=_arguments[_state-1];asap(function(){return invokeCallback(_state,child,callback,parent._result)})})()}else{subscribe(parent,child,onFulfillment,onRejection)}return child}function resolve$1(object){var Constructor=this;if(object&&typeof object==="object"&&object.constructor===Constructor){return object}var promise=new Constructor(noop);resolve(promise,object);return promise}var PROMISE_ID=Math.random().toString(36).substring(16);function noop(){}var PENDING=void 0;var FULFILLED=1;var REJECTED=2;var GET_THEN_ERROR=new ErrorObject;function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function getThen(promise){try{return promise.then}catch(error){GET_THEN_ERROR.error=error;return GET_THEN_ERROR}}function tryThen(then$$1,value,fulfillmentHandler,rejectionHandler){try{then$$1.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function handleForeignThenable(promise,thenable,then$$1){asap(function(promise){var sealed=false;var error=tryThen(then$$1,thenable,function(value){if(sealed){return}sealed=true;if(thenable!==value){resolve(promise,value)}else{fulfill(promise,value)}},function(reason){if(sealed){return}sealed=true;reject(promise,reason)},"Settle: "+(promise._label||" unknown promise"));if(!sealed&&error){sealed=true;reject(promise,error)}},promise)}function handleOwnThenable(promise,thenable){if(thenable._state===FULFILLED){fulfill(promise,thenable._result)}else if(thenable._state===REJECTED){reject(promise,thenable._result)}else{subscribe(thenable,undefined,function(value){return resolve(promise,value)},function(reason){return reject(promise,reason)})}}function handleMaybeThenable(promise,maybeThenable,then$$1){if(maybeThenable.constructor===promise.constructor&&then$$1===then&&maybeThenable.constructor.resolve===resolve$1){handleOwnThenable(promise,maybeThenable)}else{if(then$$1===GET_THEN_ERROR){reject(promise,GET_THEN_ERROR.error);GET_THEN_ERROR.error=null}else if(then$$1===undefined){fulfill(promise,maybeThenable)}else if(isFunction(then$$1)){handleForeignThenable(promise,maybeThenable,then$$1)}else{fulfill(promise,maybeThenable)}}}function resolve(promise,value){if(promise===value){reject(promise,selfFulfillment())}else if(objectOrFunction(value)){handleMaybeThenable(promise,value,getThen(value))}else{fulfill(promise,value)}}function publishRejection(promise){if(promise._onerror){promise._onerror(promise._result)}publish(promise)}function fulfill(promise,value){if(promise._state!==PENDING){return}promise._result=value;promise._state=FULFILLED;if(promise._subscribers.length!==0){asap(publish,promise)}}function reject(promise,reason){if(promise._state!==PENDING){return}promise._state=REJECTED;promise._result=reason;asap(publishRejection,promise)}function subscribe(parent,child,onFulfillment,onRejection){var _subscribers=parent._subscribers;var length=_subscribers.length;parent._onerror=null;_subscribers[length]=child;_subscribers[length+FULFILLED]=onFulfillment;_subscribers[length+REJECTED]=onRejection;if(length===0&&parent._state){asap(publish,parent)}}function publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(subscribers.length===0){return}var child=undefined,callback=undefined,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){invokeCallback(settled,child,callback,detail)}else{callback(detail)}}promise._subscribers.length=0}function ErrorObject(){this.error=null}var TRY_CATCH_ERROR=new ErrorObject;function tryCatch(callback,detail){try{return callback(detail)}catch(e){TRY_CATCH_ERROR.error=e;return TRY_CATCH_ERROR}}function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value=undefined,error=undefined,succeeded=undefined,failed=undefined;if(hasCallback){value=tryCatch(callback,detail);if(value===TRY_CATCH_ERROR){failed=true;error=value.error;value.error=null}else{succeeded=true}if(promise===value){reject(promise,cannotReturnOwn());return}}else{value=detail;succeeded=true}if(promise._state!==PENDING){}else if(hasCallback&&succeeded){resolve(promise,value)}else if(failed){reject(promise,error)}else if(settled===FULFILLED){fulfill(promise,value)}else if(settled===REJECTED){reject(promise,value)}}function initializePromise(promise,resolver){try{resolver(function resolvePromise(value){resolve(promise,value)},function rejectPromise(reason){reject(promise,reason)})}catch(e){reject(promise,e)}}var id=0;function nextId(){return id++}function makePromise(promise){promise[PROMISE_ID]=id++;promise._state=undefined;promise._result=undefined;promise._subscribers=[]}function Enumerator$1(Constructor,input){this._instanceConstructor=Constructor;this.promise=new Constructor(noop);if(!this.promise[PROMISE_ID]){makePromise(this.promise)}if(isArray(input)){this.length=input.length;this._remaining=input.length;this._result=new Array(this.length);if(this.length===0){fulfill(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(input);if(this._remaining===0){fulfill(this.promise,this._result)}}}else{reject(this.promise,validationError())}}function validationError(){return new Error("Array Methods must be provided an Array")}Enumerator$1.prototype._enumerate=function(input){for(var i=0;this._state===PENDING&&i<input.length;i++){this._eachEntry(input[i],i)}};Enumerator$1.prototype._eachEntry=function(entry,i){var c=this._instanceConstructor;var resolve$$1=c.resolve;if(resolve$$1===resolve$1){var _then=getThen(entry);if(_then===then&&entry._state!==PENDING){this._settledAt(entry._state,i,entry._result)}else if(typeof _then!=="function"){this._remaining--;this._result[i]=entry}else if(c===Promise$2){var promise=new c(noop);handleMaybeThenable(promise,entry,_then);this._willSettleAt(promise,i)}else{this._willSettleAt(new c(function(resolve$$1){return resolve$$1(entry)}),i)}}else{this._willSettleAt(resolve$$1(entry),i)}};Enumerator$1.prototype._settledAt=function(state,i,value){var promise=this.promise;if(promise._state===PENDING){this._remaining--;if(state===REJECTED){reject(promise,value)}else{this._result[i]=value}}if(this._remaining===0){fulfill(promise,this._result)}};Enumerator$1.prototype._willSettleAt=function(promise,i){var enumerator=this;subscribe(promise,undefined,function(value){return enumerator._settledAt(FULFILLED,i,value)},function(reason){return enumerator._settledAt(REJECTED,i,reason)})};function all$1(entries){return new Enumerator$1(this,entries).promise}function race$1(entries){var Constructor=this;if(!isArray(entries)){return new Constructor(function(_,reject){return reject(new TypeError("You must pass an array to race."))})}else{return new Constructor(function(resolve,reject){var length=entries.length;for(var i=0;i<length;i++){Constructor.resolve(entries[i]).then(resolve,reject)}})}}function reject$1(reason){var Constructor=this;var promise=new Constructor(noop);reject(promise,reason);return promise}function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Promise$2(resolver){this[PROMISE_ID]=nextId();this._result=this._state=undefined;this._subscribers=[];if(noop!==resolver){typeof resolver!=="function"&&needsResolver();this instanceof Promise$2?initializePromise(this,resolver):needsNew()}}Promise$2.all=all$1;Promise$2.race=race$1;Promise$2.resolve=resolve$1;Promise$2.reject=reject$1;Promise$2._setScheduler=setScheduler;Promise$2._setAsap=setAsap;Promise$2._asap=asap;Promise$2.prototype={constructor:Promise$2,then:then,"catch":function _catch(onRejection){return this.then(null,onRejection)}};function polyfill$1(){var local=undefined;if(typeof global!=="undefined"){local=global}else if(typeof self!=="undefined"){local=self}else{try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve())}catch(e){}if(promiseToString==="[object Promise]"&&!P.cast){return}}local.Promise=Promise$2}Promise$2.polyfill=polyfill$1;Promise$2.Promise=Promise$2;return Promise$2})}).call(exports,__webpack_require__(4),function(){return this}())},function(module,exports){}])})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)},function(module,exports,__webpack_require__){var Stringify=__webpack_require__(4);var Parse=__webpack_require__(6);var internals={};module.exports={stringify:Stringify,parse:Parse}},function(module,exports,__webpack_require__){var Utils=__webpack_require__(5);var internals={delimiter:"&",arrayPrefixGenerators:{brackets:function(prefix,key){return prefix+"[]"},indices:function(prefix,key){return prefix+"["+key+"]"},repeat:function(prefix,key){return prefix}},strictNullHandling:false};internals.stringify=function(obj,prefix,generateArrayPrefix,strictNullHandling,filter){if(typeof filter==="function"){obj=filter(prefix,obj)}else if(Utils.isBuffer(obj)){obj=obj.toString()}else if(obj instanceof Date){obj=obj.toISOString()}else if(obj===null){if(strictNullHandling){return Utils.encode(prefix)}obj=""}if(typeof obj==="string"||typeof obj==="number"||typeof obj==="boolean"){return[Utils.encode(prefix)+"="+Utils.encode(obj)]}var values=[];if(typeof obj==="undefined"){return values}var objKeys=Array.isArray(filter)?filter:Object.keys(obj);for(var i=0,il=objKeys.length;i<il;++i){var key=objKeys[i];if(Array.isArray(obj)){values=values.concat(internals.stringify(obj[key],generateArrayPrefix(prefix,key),generateArrayPrefix,strictNullHandling,filter))}else{values=values.concat(internals.stringify(obj[key],prefix+"["+key+"]",generateArrayPrefix,strictNullHandling,filter))}}return values};module.exports=function(obj,options){options=options||{};var delimiter=typeof options.delimiter==="undefined"?internals.delimiter:options.delimiter;var strictNullHandling=typeof options.strictNullHandling==="boolean"?options.strictNullHandling:internals.strictNullHandling;var objKeys;var filter;if(typeof options.filter==="function"){filter=options.filter;obj=filter("",obj)}else if(Array.isArray(options.filter)){objKeys=filter=options.filter}var keys=[];if(typeof obj!=="object"||obj===null){return""}var arrayFormat;if(options.arrayFormat in internals.arrayPrefixGenerators){arrayFormat=options.arrayFormat}else if("indices"in options){arrayFormat=options.indices?"indices":"repeat"}else{arrayFormat="indices";}var generateArrayPrefix=internals.arrayPrefixGenerators[arrayFormat];if(!objKeys){objKeys=Object.keys(obj)}for(var i=0,il=objKeys.length;i<il;++i){var key=objKeys[i];keys=keys.concat(internals.stringify(obj[key],key,generateArrayPrefix,strictNullHandling,filter))}return keys.join(delimiter)}},function(module,exports){var internals={};internals.hexTable=new Array(256);for(var i=0;i<256;++i){internals.hexTable[i]="%"+((i<16?"0":"")+i.toString(16)).toUpperCase()}exports.arrayToObject=function(source){var obj=Object.create(null);for(var i=0,il=source.length;i<il;++i){if(typeof source[i]!=="undefined"){obj[i]=source[i]}}return obj};exports.merge=function(target,source){if(!source){return target}if(typeof source!=="object"){if(Array.isArray(target)){target.push(source)}else if(typeof target==="object"){target[source]=true}else{target=[target,source]}return target}if(typeof target!=="object"){target=[target].concat(source);return target}if(Array.isArray(target)&&!Array.isArray(source)){target=exports.arrayToObject(target)}var keys=Object.keys(source);for(var k=0,kl=keys.length;k<kl;++k){var key=keys[k];var value=source[key];if(!target[key]){target[key]=value}else{target[key]=exports.merge(target[key],value)}}return target};exports.decode=function(str){try{return decodeURIComponent(str.replace(/\+/g," "))}catch(e){return str}};exports.encode=function(str){if(str.length===0){return str}if(typeof str!=="string"){str=""+str}var out="";for(var i=0,il=str.length;i<il;++i){var c=str.charCodeAt(i);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122){out+=str[i];continue}if(c<128){out+=internals.hexTable[c];continue}if(c<2048){out+=internals.hexTable[192|c>>6]+internals.hexTable[128|c&63];continue}if(c<55296||c>=57344){out+=internals.hexTable[224|c>>12]+internals.hexTable[128|c>>6&63]+internals.hexTable[128|c&63];continue}++i;c=65536+((c&1023)<<10|str.charCodeAt(i)&1023);out+=internals.hexTable[240|c>>18]+internals.hexTable[128|c>>12&63]+internals.hexTable[128|c>>6&63]+internals.hexTable[128|c&63]}return out};exports.compact=function(obj,refs){if(typeof obj!=="object"||obj===null){return obj}refs=refs||[];var lookup=refs.indexOf(obj);if(lookup!==-1){return refs[lookup]}refs.push(obj);if(Array.isArray(obj)){var compacted=[];for(var i=0,il=obj.length;i<il;++i){if(typeof obj[i]!=="undefined"){compacted.push(obj[i])}}return compacted}var keys=Object.keys(obj);for(i=0,il=keys.length;i<il;++i){var key=keys[i];obj[key]=exports.compact(obj[key],refs)}return obj};exports.isRegExp=function(obj){return Object.prototype.toString.call(obj)==="[object RegExp]"};exports.isBuffer=function(obj){if(obj===null||typeof obj==="undefined"){return false}return!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))}},function(module,exports,__webpack_require__){var Utils=__webpack_require__(5);var internals={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:false};internals.parseValues=function(str,options){var obj={};var parts=str.split(options.delimiter,options.parameterLimit===Infinity?undefined:options.parameterLimit);for(var i=0,il=parts.length;i<il;++i){var part=parts[i];var pos=part.indexOf("]=")===-1?part.indexOf("="):part.indexOf("]=")+1;if(pos===-1){obj[Utils.decode(part)]="";if(options.strictNullHandling){obj[Utils.decode(part)]=null}}else{var key=Utils.decode(part.slice(0,pos));var val=Utils.decode(part.slice(pos+1));if(!Object.prototype.hasOwnProperty.call(obj,key)){obj[key]=val}else{obj[key]=[].concat(obj[key]).concat(val)}}}return obj};internals.parseObject=function(chain,val,options){if(!chain.length){return val}var root=chain.shift();var obj;if(root==="[]"){obj=[];obj=obj.concat(internals.parseObject(chain,val,options))}else{obj=Object.create(null);var cleanRoot=root[0]==="["&&root[root.length-1]==="]"?root.slice(1,root.length-1):root;var index=parseInt(cleanRoot,10);var indexString=""+index;if(!isNaN(index)&&root!==cleanRoot&&indexString===cleanRoot&&index>=0&&(options.parseArrays&&index<=options.arrayLimit)){obj=[];obj[index]=internals.parseObject(chain,val,options)}else{obj[cleanRoot]=internals.parseObject(chain,val,options)}}return obj};internals.parseKeys=function(key,val,options){if(!key){return}if(options.allowDots){key=key.replace(/\.([^\.\[]+)/g,"[$1]")}var parent=/^([^\[\]]*)/;var child=/(\[[^\[\]]*\])/g;var segment=parent.exec(key);var keys=[];if(segment[1]){keys.push(segment[1])}var i=0;while((segment=child.exec(key))!==null&&i<options.depth){++i;keys.push(segment[1])}if(segment){keys.push("["+key.slice(segment.index)+"]")}return internals.parseObject(keys,val,options)};module.exports=function(str,options){if(str===""||str===null||typeof str==="undefined"){return Object.create(null)}options=options||{};options.delimiter=typeof options.delimiter==="string"||Utils.isRegExp(options.delimiter)?options.delimiter:internals.delimiter;options.depth=typeof options.depth==="number"?options.depth:internals.depth;options.arrayLimit=typeof options.arrayLimit==="number"?options.arrayLimit:internals.arrayLimit;options.parseArrays=options.parseArrays!==false;options.allowDots=options.allowDots!==false;options.parameterLimit=typeof options.parameterLimit==="number"?options.parameterLimit:internals.parameterLimit;options.strictNullHandling=typeof options.strictNullHandling==="boolean"?options.strictNullHandling:internals.strictNullHandling;var tempObj=typeof str==="string"?internals.parseValues(str,options):str;var obj=Object.create(null);var keys=Object.keys(tempObj);for(var i=0,il=keys.length;i<il;++i){var key=keys[i];var newObj=internals.parseKeys(key,tempObj[key],options);obj=Utils.merge(obj,newObj)}return Utils.compact(obj)}}]);